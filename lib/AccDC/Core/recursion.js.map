{"version":3,"sources":["../../../src/AccDC/Core/recursion.js"],"names":["window","getAccNameVersion","getAccName","calcNames","node","fnc","preventVisualARIASelfCSSRef","props","name","desc","error","nodeType","rootNode","nodes","owns","walk","refNode","stop","skip","nodesToIgnoreValues","skipAbort","ownedBy","fullResult","title","isException","inList","list","role","getRole","tag","nodeName","toLowerCase","roles","indexOf","tags","list3","id","isFocusable","inParent","top","list1","list2","parent","trackNodes","push","parentNode","document","body","cssOP","before","after","ref","isParentHidden","isHidden","ignoreHidden","getCSSText","walkDOM","fn","res","nodeIsBlock","isBlockLevelElement","fResult","length","firstChild","nextSibling","trim","addSpacing","isWidget","i","element","ids","parts","result","isEmbeddedNode","ariaO","cssO","aLabelledby","getAttribute","aDescribedby","aLabel","nTitle","nTag","nRole","isNativeFormField","nativeFormFields","isNativeButton","isRangeWidgetRole","rangeWidgetRoles","isEditWidgetRole","editWidgetRoles","isSelectWidgetRole","selectWidgetRoles","isSimulatedFormField","isWidgetRole","otherWidgetRoles","hasName","aOwns","isSeparatChildFormField","target","split","getElementById","join","getObjectValue","labels","querySelectorAll","implicitLabel","getParent","explicitLabel","querySelector","implicitI","explicitI","isImplicitFirst","eLblName","iLblName","btnType","btnValue","rolePresentation","presentationRoles","hasGlobalAttr","nAlt","oBy","data","replace","hasParentLabelOrHidden","globalPropsAndStates","a","hidden","style","getStyleObject","skipOwned","skipCurrent","defaultView","getComputedStyle","currentStyle","cleanCSSText","text","s","m","match","b","slice","cssObj","styleObject","prop","blockStyles","values","blockElements","display","position","float","clear","overflow","contain","isRange","isEdit","isSelect","isNative","val","bypass","getText","childRoles","joinSelectedParts","value","nOA","isValidChildRole","getPseudoElStyleObj","styleObj","getPropertyValue","innerText","textContent","styles","str","accProps","accName","accDesc","e","apply","getAccNameMsg","getNames","module","exports"],"mappings":"AAAAA,MAAM,CAACC,iBAAP,GAA2B,MAA3B;AAEA;;;;;;;;;AAUA;;AACAD,MAAM,CAACE,UAAP,GAAoBF,MAAM,CAACG,SAAP,GAAmB,UACrCC,IADqC,EAErCC,GAFqC,EAGrCC,2BAHqC,EAIrC;AACA,MAAIC,KAAK,GAAG;AAAEC,IAAAA,IAAI,EAAE,EAAR;AAAYC,IAAAA,IAAI,EAAE,EAAlB;AAAsBC,IAAAA,KAAK,EAAE;AAA7B,GAAZ;;AACA,MAAI;AACF,QAAI,CAACN,IAAD,IAASA,IAAI,CAACO,QAAL,KAAkB,CAA/B,EAAkC;AAChC,aAAOJ,KAAP;AACD;;AACD,QAAIK,QAAQ,GAAGR,IAAf,CAJE,CAMF;;AACA,QAAIS,KAAK,GAAG,EAAZ,CAPE,CAQF;;AACA,QAAIC,IAAI,GAAG,EAAX,CATE,CAWF;;AACA,QAAIC,IAAI,GAAG,UACTC,OADS,EAETC,IAFS,EAGTC,IAHS,EAITC,mBAJS,EAKTC,SALS,EAMTC,OANS,EAOT;AACA,UAAIC,UAAU,GAAG;AACfd,QAAAA,IAAI,EAAE,EADS;AAEfe,QAAAA,KAAK,EAAE;AAFQ,OAAjB;AAKA;;;;;;AAKA,UAAIC,WAAW,GAAG,UAASpB,IAAT,EAAeY,OAAf,EAAwB;AACxC,YACE,CAACA,OAAD,IACA,CAACZ,IADD,IAEAY,OAAO,CAACL,QAAR,KAAqB,CAFrB,IAGAP,IAAI,CAACO,QAAL,KAAkB,CAJpB,EAKE;AACA,iBAAO,KAAP;AACD;;AAED,YAAIc,MAAM,GAAG,UAASrB,IAAT,EAAesB,IAAf,EAAqB;AAChC,cAAIC,IAAI,GAAGC,OAAO,CAACxB,IAAD,CAAlB;AACA,cAAIyB,GAAG,GAAGzB,IAAI,CAAC0B,QAAL,CAAcC,WAAd,EAAV;AACA,iBACGJ,IAAI,IAAID,IAAI,CAACM,KAAL,CAAWC,OAAX,CAAmBN,IAAnB,KAA4B,CAArC,IACC,CAACA,IAAD,IAASD,IAAI,CAACQ,IAAL,CAAUD,OAAV,CAAkBJ,GAAlB,KAA0B,CAFtC;AAID,SAPD,CAVwC,CAmBxC;;;AACA,YAAIJ,MAAM,CAACrB,IAAD,EAAO+B,KAAP,CAAV,EAAyB;AACvB,cACE/B,IAAI,KAAKY,OAAT,IACA,EAAEZ,IAAI,CAACgC,EAAL,IAAWf,OAAO,CAACjB,IAAI,CAACgC,EAAN,CAAlB,IAA+Bf,OAAO,CAACjB,IAAI,CAACgC,EAAN,CAAP,CAAiBhC,IAAlD,CAFF,EAGE;AACA,mBAAO,CAACiC,WAAW,CAACjC,IAAD,CAAnB;AACD,WALD,MAKO;AACL;AACA,mBAAO,EACJkC,QAAQ,CAAClC,IAAD,EAAOiB,OAAO,CAACkB,GAAf,CAAR,IACCnC,IAAI,CAAC0B,QAAL,CAAcC,WAAd,OAAgC,QADlC,IAEAN,MAAM,CAACT,OAAD,EAAUwB,KAAV,CAHD,CAAP;AAKD;AACF,SAdD,CAeA;AAfA,aAgBK,IACHf,MAAM,CAACrB,IAAD,EAAOqC,KAAP,CAAN,IACCrC,IAAI,KAAKQ,QAAT,IAAqB,CAACa,MAAM,CAACrB,IAAD,EAAOoC,KAAP,CAF1B,EAGH;AACA,mBAAO,IAAP;AACD,WALI,MAKE;AACL,mBAAO,KAAP;AACD;AACF,OA5CD;;AA8CA,UAAIF,QAAQ,GAAG,UAASlC,IAAT,EAAesC,MAAf,EAAuB;AACpC,YAAIC,UAAU,GAAG,EAAjB;;AACA,eAAOvC,IAAP,EAAa;AACX,cACEA,IAAI,CAACgC,EAAL,IACAf,OAAO,CAACjB,IAAI,CAACgC,EAAN,CADP,IAEAf,OAAO,CAACjB,IAAI,CAACgC,EAAN,CAAP,CAAiBhC,IAFjB,IAGAuC,UAAU,CAACV,OAAX,CAAmB7B,IAAnB,MAA6B,CAAC,CAJhC,EAKE;AACAuC,YAAAA,UAAU,CAACC,IAAX,CAAgBxC,IAAhB;AACAA,YAAAA,IAAI,GAAGiB,OAAO,CAACjB,IAAI,CAACgC,EAAN,CAAP,CAAiBhC,IAAxB;AACD,WARD,MAQO;AACLA,YAAAA,IAAI,GAAGA,IAAI,CAACyC,UAAZ;AACD;;AACD,cAAIzC,IAAI,IAAIA,IAAI,KAAKsC,MAArB,EAA6B;AAC3B,mBAAO,IAAP;AACD,WAFD,MAEO,IAAI,CAACtC,IAAD,IAASA,IAAI,KAAKiB,OAAO,CAACkB,GAA1B,IAAiCnC,IAAI,KAAK0C,QAAQ,CAACC,IAAvD,EAA6D;AAClE,mBAAO,KAAP;AACD;AACF;;AACD,eAAO,KAAP;AACD,OArBD,CAzDA,CAgFA;;;AACA,UAAIC,KAAK,GAAG;AACVC,QAAAA,MAAM,EAAE,EADE;AAEVC,QAAAA,KAAK,EAAE;AAFG,OAAZ;;AAKA,UAAI7B,OAAO,CAAC8B,GAAZ,EAAiB;AACf,YAAIC,cAAc,CAACpC,OAAD,EAAU8B,QAAQ,CAACC,IAAnB,EAAyB,IAAzB,EAA+B,IAA/B,CAAlB,EAAwD;AACtD;AACA,iBAAOzB,UAAP;AACD,SAHD,MAGO,IAAI+B,QAAQ,CAACrC,OAAD,EAAU8B,QAAQ,CAACC,IAAnB,CAAZ,EAAsC;AAC3C;AACA,cAAIO,YAAY,GAAG,IAAnB;AACD;AACF;;AAED,UAAIzC,KAAK,CAACoB,OAAN,CAAcjB,OAAd,MAA2B,CAAC,CAAhC,EAAmC;AACjC;AACA;AACAgC,QAAAA,KAAK,GAAGO,UAAU,CAACvC,OAAD,EAAU,IAAV,CAAlB,CAHiC,CAKjC;;AACA,YAAIV,2BAAJ,EAAiC;AAC/B,cACE0C,KAAK,CAACC,MAAN,CAAahB,OAAb,CAAqB,UAArB,MAAqC,CAAC,CAAtC,IACAe,KAAK,CAACC,MAAN,CAAahB,OAAb,CAAqB,QAArB,MAAmC,CAAC,CADpC,IAEAe,KAAK,CAACC,MAAN,CAAahB,OAAb,CAAqB,YAArB,MAAuC,CAAC,CAH1C,EAKEe,KAAK,CAACC,MAAN,GAAe,EAAf;AACF,cACED,KAAK,CAACE,KAAN,CAAYjB,OAAZ,CAAoB,UAApB,MAAoC,CAAC,CAArC,IACAe,KAAK,CAACE,KAAN,CAAYjB,OAAZ,CAAoB,QAApB,MAAkC,CAAC,CADnC,IAEAe,KAAK,CAACE,KAAN,CAAYjB,OAAZ,CAAoB,mBAApB,MAA6C,CAAC,CAHhD,EAKEe,KAAK,CAACE,KAAN,GAAc,EAAd;AACH;AACF,OApHD,CAsHA;;;AACA,UAAIM,OAAO,GAAG,UAASpD,IAAT,EAAeqD,EAAf,EAAmBzC,OAAnB,EAA4B;AACxC,YAAI0C,GAAG,GAAG;AACRlD,UAAAA,IAAI,EAAE,EADE;AAERe,UAAAA,KAAK,EAAE;AAFC,SAAV;;AAIA,YAAI,CAACnB,IAAL,EAAW;AACT,iBAAOsD,GAAP;AACD;;AACD,YAAIC,WAAW,GACbvD,IAAI,IAAIA,IAAI,CAACO,QAAL,KAAkB,CAA1B,IAA+BiD,mBAAmB,CAACxD,IAAD,CAAlD,GACI,IADJ,GAEI,KAHN;AAIA,YAAIyD,OAAO,GAAGJ,EAAE,CAACrD,IAAD,CAAF,IAAY,EAA1B;;AACA,YAAIyD,OAAO,CAACrD,IAAR,IAAgBqD,OAAO,CAACrD,IAAR,CAAasD,MAAjC,EAAyC;AACvCJ,UAAAA,GAAG,CAAClD,IAAJ,IAAYqD,OAAO,CAACrD,IAApB;AACD;;AACD,YAAI,CAACgB,WAAW,CAACpB,IAAD,EAAOiB,OAAO,CAACkB,GAAf,EAAoBlB,OAApB,CAAhB,EAA8C;AAC5CjB,UAAAA,IAAI,GAAGA,IAAI,CAAC2D,UAAZ;;AACA,iBAAO3D,IAAP,EAAa;AACXsD,YAAAA,GAAG,CAAClD,IAAJ,IAAYgD,OAAO,CAACpD,IAAD,EAAOqD,EAAP,EAAWzC,OAAX,CAAP,CAA2BR,IAAvC;AACAJ,YAAAA,IAAI,GAAGA,IAAI,CAAC4D,WAAZ;AACD;AACF;;AACDN,QAAAA,GAAG,CAAClD,IAAJ,IAAYqD,OAAO,CAAC/C,IAAR,IAAgB,EAA5B;;AACA,YAAIF,QAAQ,KAAKI,OAAb,IAAwB,CAACiD,IAAI,CAACP,GAAG,CAAClD,IAAL,CAA7B,IAA2CyD,IAAI,CAACJ,OAAO,CAACtC,KAAT,CAAnD,EAAoE;AAClEmC,UAAAA,GAAG,CAAClD,IAAJ,GAAW0D,UAAU,CAACL,OAAO,CAACtC,KAAT,CAArB;AACD,SAFD,MAEO,IAAIX,QAAQ,KAAKI,OAAb,IAAwBiD,IAAI,CAACJ,OAAO,CAACtC,KAAT,CAAhC,EAAiD;AACtDmC,UAAAA,GAAG,CAACnC,KAAJ,GAAY2C,UAAU,CAACL,OAAO,CAACtC,KAAT,CAAtB;AACD;;AACD,YAAIX,QAAQ,KAAKI,OAAb,IAAwBiD,IAAI,CAACJ,OAAO,CAACpD,IAAT,CAAhC,EAAgD;AAC9CiD,UAAAA,GAAG,CAACnC,KAAJ,GAAY2C,UAAU,CAACL,OAAO,CAACpD,IAAT,CAAtB;AACD;;AACD,YAAIkD,WAAW,IAAIE,OAAO,CAACM,QAA3B,EAAqC;AACnCT,UAAAA,GAAG,CAAClD,IAAJ,GAAW0D,UAAU,CAACR,GAAG,CAAClD,IAAL,CAArB;AACD;;AACD,eAAOkD,GAAP;AACD,OApCD;;AAsCApC,MAAAA,UAAU,GAAGkC,OAAO,CAClBxC,OADkB,EAElB,UAASZ,IAAT,EAAe;AACb,YAAIgE,CAAC,GAAG,CAAR;AACA,YAAIC,OAAO,GAAG,IAAd;AACA,YAAIC,GAAG,GAAG,EAAV;AACA,YAAIC,KAAK,GAAG,EAAZ;AACA,YAAIC,MAAM,GAAG;AACXhE,UAAAA,IAAI,EAAE,EADK;AAEXe,UAAAA,KAAK,EAAE,EAFI;AAGXT,UAAAA,IAAI,EAAE;AAHK,SAAb;AAKA,YAAI2D,cAAc,GAChBrE,IAAI,IACJA,IAAI,CAACO,QAAL,KAAkB,CADlB,IAEAQ,mBAFA,IAGAA,mBAAmB,CAAC2C,MAHpB,IAIA3C,mBAAmB,CAACc,OAApB,CAA4B7B,IAA5B,MAAsC,CAAC,CAJvC,IAKAA,IAAI,KAAKQ,QALT,IAMAR,IAAI,KAAKY,OANT,GAOI,IAPJ,GAQI,KATN;;AAWA,YACE,CAACE,IAAI,IACH,CAACd,IADF,IAECS,KAAK,CAACoB,OAAN,CAAc7B,IAAd,MAAwB,CAAC,CAF1B,IAGE,CAACkD,YAAD,IAAiBD,QAAQ,CAACjD,IAAD,EAAOiB,OAAO,CAACkB,GAAf,CAH5B,KAIA,CAACnB,SAJD,IAKA,CAACqD,cANH,EAOE;AACA;AACA,iBAAOD,MAAP;AACD;;AAED,YAAI3D,KAAK,CAACoB,OAAN,CAAc7B,IAAd,MAAwB,CAAC,CAA7B,EAAgC;AAC9BS,UAAAA,KAAK,CAAC+B,IAAN,CAAWxC,IAAX;AACD,SAnCY,CAqCb;;;AACA,YAAII,IAAI,GAAG,EAAX,CAtCa,CAuCb;;AACA,YAAIkE,KAAK,GAAG,EAAZ,CAxCa,CAyCb;;AACA,YAAIC,IAAI,GAAG;AACT1B,UAAAA,MAAM,EAAE,EADC;AAETC,UAAAA,KAAK,EAAE;AAFE,SAAX;AAKA,YAAIR,MAAM,GAAG1B,OAAO,KAAKZ,IAAZ,GAAmBA,IAAnB,GAA0BA,IAAI,CAACyC,UAA5C;;AACA,YAAIhC,KAAK,CAACoB,OAAN,CAAcS,MAAd,MAA0B,CAAC,CAA/B,EAAkC;AAChC7B,UAAAA,KAAK,CAAC+B,IAAN,CAAWF,MAAX,EADgC,CAEhC;AACA;;AACAiC,UAAAA,IAAI,GAAGpB,UAAU,CAACb,MAAD,EAAS1B,OAAT,CAAjB,CAJgC,CAMhC;;AACA,cAAIV,2BAAJ,EAAiC;AAC/B,gBACEqE,IAAI,CAAC1B,MAAL,CAAYhB,OAAZ,CAAoB,UAApB,MAAoC,CAAC,CAArC,IACA0C,IAAI,CAAC1B,MAAL,CAAYhB,OAAZ,CAAoB,QAApB,MAAkC,CAAC,CADnC,IAEA0C,IAAI,CAAC1B,MAAL,CAAYhB,OAAZ,CAAoB,YAApB,MAAsC,CAAC,CAHzC,EAKE0C,IAAI,CAAC1B,MAAL,GAAc,EAAd;AACF,gBACE0B,IAAI,CAACzB,KAAL,CAAWjB,OAAX,CAAmB,UAAnB,MAAmC,CAAC,CAApC,IACA0C,IAAI,CAACzB,KAAL,CAAWjB,OAAX,CAAmB,QAAnB,MAAiC,CAAC,CADlC,IAEA0C,IAAI,CAACzB,KAAL,CAAWjB,OAAX,CAAmB,mBAAnB,MAA4C,CAAC,CAH/C,EAKE0C,IAAI,CAACzB,KAAL,GAAa,EAAb;AACH;AACF,SArEY,CAuEb;;;AACA,YAAI9C,IAAI,CAACO,QAAL,KAAkB,CAAtB,EAAyB;AACvB,cAAIiE,WAAW,GAAGxE,IAAI,CAACyE,YAAL,CAAkB,iBAAlB,KAAwC,EAA1D;AACA,cAAIC,YAAY,GAAG1E,IAAI,CAACyE,YAAL,CAAkB,kBAAlB,KAAyC,EAA5D;AACA,cAAIE,MAAM,GAAG3E,IAAI,CAACyE,YAAL,CAAkB,YAAlB,KAAmC,EAAhD;AACA,cAAIG,MAAM,GAAG5E,IAAI,CAACyE,YAAL,CAAkB,OAAlB,KAA8B,EAA3C;AACA,cAAII,IAAI,GAAG7E,IAAI,CAAC0B,QAAL,CAAcC,WAAd,EAAX;AACA,cAAImD,KAAK,GAAGtD,OAAO,CAACxB,IAAD,CAAnB;AAEA,cAAI+E,iBAAiB,GAAGC,gBAAgB,CAACnD,OAAjB,CAAyBgD,IAAzB,MAAmC,CAAC,CAA5D;AACA,cAAII,cAAc,GAAG,CAAC,OAAD,EAAUpD,OAAV,CAAkBgD,IAAlB,MAA4B,CAAC,CAAlD;AACA,cAAIK,iBAAiB,GAAGC,gBAAgB,CAACtD,OAAjB,CAAyBiD,KAAzB,MAAoC,CAAC,CAA7D;AACA,cAAIM,gBAAgB,GAAGC,eAAe,CAACxD,OAAhB,CAAwBiD,KAAxB,MAAmC,CAAC,CAA3D;AACA,cAAIQ,kBAAkB,GAAGC,iBAAiB,CAAC1D,OAAlB,CAA0BiD,KAA1B,MAAqC,CAAC,CAA/D;AACA,cAAIU,oBAAoB,GACtBN,iBAAiB,IACjBE,gBADA,IAEAE,kBAFA,IAGAR,KAAK,KAAK,UAJZ;AAKA,cAAIW,YAAY,GACd,CAACD,oBAAoB,IACnBE,gBAAgB,CAAC7D,OAAjB,CAAyBiD,KAAzB,MAAoC,CAAC,CADvC,KAEAA,KAAK,KAAK,MAHZ;AAIAV,UAAAA,MAAM,CAACL,QAAP,GAAkBgB,iBAAiB,IAAIU,YAAvC;AAEA,cAAIE,OAAO,GAAG,KAAd;AACA,cAAIC,KAAK,GAAG5F,IAAI,CAACyE,YAAL,CAAkB,WAAlB,KAAkC,EAA9C;AACA,cAAIoB,uBAAuB,GACzB,CAACxB,cAAD,KACErE,IAAI,KAAKY,OAAT,KACCmE,iBAAiB,IAAIS,oBADtB,CAAD,IAEExF,IAAI,CAACgC,EAAL,IACCf,OAAO,CAACjB,IAAI,CAACgC,EAAN,CADR,IAECf,OAAO,CAACjB,IAAI,CAACgC,EAAN,CAAP,CAAiB8D,MAFlB,IAGC7E,OAAO,CAACjB,IAAI,CAACgC,EAAN,CAAP,CAAiB8D,MAAjB,KAA4B9F,IANhC,IAOI,IAPJ,GAQI,KATN;;AAWA,cAAI,CAACa,IAAD,IAASb,IAAI,KAAKY,OAAtB,EAA+B;AAC7B;AACA,gBAAI4D,WAAJ,EAAiB;AACfN,cAAAA,GAAG,GAAGM,WAAW,CAACuB,KAAZ,CAAkB,KAAlB,CAAN;AACA5B,cAAAA,KAAK,GAAG,EAAR;;AACA,mBAAKH,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGE,GAAG,CAACR,MAApB,EAA4BM,CAAC,EAA7B,EAAiC;AAC/BC,gBAAAA,OAAO,GAAGvB,QAAQ,CAACsD,cAAT,CAAwB9B,GAAG,CAACF,CAAD,CAA3B,CAAV,CAD+B,CAE/B;;AACAG,gBAAAA,KAAK,CAAC3B,IAAN,CACE7B,IAAI,CAACsD,OAAD,EAAU,IAAV,EAAgBnD,IAAhB,EAAsB,CAACd,IAAD,CAAtB,EAA8BiE,OAAO,KAAKrD,OAA1C,EAAmD;AACrDmC,kBAAAA,GAAG,EAAE9B,OADgD;AAErDkB,kBAAAA,GAAG,EAAE8B;AAFgD,iBAAnD,CAAJ,CAGG7D,IAJL;AAMD,eAZc,CAaf;;;AACAA,cAAAA,IAAI,GAAGyD,IAAI,CAACM,KAAK,CAAC8B,IAAN,CAAW,GAAX,CAAD,CAAX;;AAEA,kBAAIpC,IAAI,CAACzD,IAAD,CAAR,EAAgB;AACduF,gBAAAA,OAAO,GAAG,IAAV,CADc,CAEd;;AACA7E,gBAAAA,IAAI,GAAG,IAAP;AACD;AACF,aAvB4B,CAyB7B;;;AACA,gBAAI4D,YAAJ,EAAkB;AAChB,kBAAIrE,IAAI,GAAG,EAAX;AACA6D,cAAAA,GAAG,GAAGQ,YAAY,CAACqB,KAAb,CAAmB,KAAnB,CAAN;AACA5B,cAAAA,KAAK,GAAG,EAAR;;AACA,mBAAKH,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGE,GAAG,CAACR,MAApB,EAA4BM,CAAC,EAA7B,EAAiC;AAC/BC,gBAAAA,OAAO,GAAGvB,QAAQ,CAACsD,cAAT,CAAwB9B,GAAG,CAACF,CAAD,CAA3B,CAAV,CAD+B,CAE/B;;AACAG,gBAAAA,KAAK,CAAC3B,IAAN,CACE7B,IAAI,CAACsD,OAAD,EAAU,IAAV,EAAgB,KAAhB,EAAuB,CAACjE,IAAD,CAAvB,EAA+B,KAA/B,EAAsC;AACxC+C,kBAAAA,GAAG,EAAE9B,OADmC;AAExCkB,kBAAAA,GAAG,EAAE8B;AAFmC,iBAAtC,CAAJ,CAGG7D,IAJL;AAMD,eAbe,CAchB;;;AACAC,cAAAA,IAAI,GAAGwD,IAAI,CAACM,KAAK,CAAC8B,IAAN,CAAW,GAAX,CAAD,CAAX;;AAEA,kBAAIpC,IAAI,CAACxD,IAAD,CAAR,EAAgB;AACd+D,gBAAAA,MAAM,CAAC/D,IAAP,GAAcA,IAAd;AACD;AACF;AACF,WApFsB,CAsFvB;;;AACA,cAAIwF,uBAAJ,EAA6B;AAC3B;AACA,gBACE,EACE9E,mBAAmB,IACnBA,mBAAmB,CAAC2C,MADpB,IAEA3C,mBAAmB,CAACc,OAApB,CAA4B7B,IAA5B,MAAsC,CAAC,CAHzC,CADF,EAME;AACA,kBAAIkF,iBAAJ,EAAuB;AACrB;AACA9E,gBAAAA,IAAI,GAAG8F,cAAc,CAACpB,KAAD,EAAQ9E,IAAR,EAAc,IAAd,CAArB;AACD,eAHD,MAGO,IACLoF,gBAAgB,IACfN,KAAK,KAAK,UAAV,IAAwBC,iBAFpB,EAGL;AACA;AACA3E,gBAAAA,IAAI,GAAG8F,cAAc,CAACpB,KAAD,EAAQ9E,IAAR,EAAc,KAAd,EAAqB,IAArB,CAArB;AACD,eANM,MAMA,IAAIsF,kBAAJ,EAAwB;AAC7B;AACA;AACAlF,gBAAAA,IAAI,GAAG8F,cAAc,CAACpB,KAAD,EAAQ9E,IAAR,EAAc,KAAd,EAAqB,KAArB,EAA4B,IAA5B,CAArB;AACD,eAJM,MAIA,IACL+E,iBAAiB,IACjB,CAAC,OAAD,EAAU,UAAV,EAAsBlD,OAAtB,CAA8BgD,IAA9B,MAAwC,CAAC,CADzC,KAEC,CAACY,YAAD,IAAiBL,gBAFlB,CADK,EAIL;AACA;AACAhF,gBAAAA,IAAI,GAAG8F,cAAc,CAACpB,KAAD,EAAQ9E,IAAR,EAAc,KAAd,EAAqB,KAArB,EAA4B,KAA5B,EAAmC,IAAnC,CAArB;AACD,eAPM,MAOA,IACL+E,iBAAiB,IACjBF,IAAI,KAAK,QADT,KAEC,CAACY,YAAD,IAAiBX,KAAK,KAAK,UAF5B,CADK,EAIL;AACA;AACA;AACA1E,gBAAAA,IAAI,GAAG8F,cAAc,CAACpB,KAAD,EAAQ9E,IAAR,EAAc,KAAd,EAAqB,KAArB,EAA4B,IAA5B,EAAkC,IAAlC,CAArB;AACD,eA7BD,CA+BA;;;AACAI,cAAAA,IAAI,GAAGyD,IAAI,CAACzD,IAAD,CAAX;AACD;;AAED,gBAAIyD,IAAI,CAACzD,IAAD,CAAR,EAAgB;AACduF,cAAAA,OAAO,GAAG,IAAV;AACD;AACF,WArIsB,CAuIvB;;;AACA,cAAI,CAACA,OAAD,IAAY9B,IAAI,CAACc,MAAD,CAAhB,IAA4B,CAACkB,uBAAjC,EAA0D;AACxDzF,YAAAA,IAAI,GAAGuE,MAAP,CADwD,CAGxD;;AACA,gBAAId,IAAI,CAACzD,IAAD,CAAR,EAAgB;AACduF,cAAAA,OAAO,GAAG,IAAV;;AACA,kBAAI3F,IAAI,KAAKY,OAAb,EAAsB;AACpB;AACAE,gBAAAA,IAAI,GAAG,IAAP;AACD;AACF;AACF,WAnJsB,CAqJvB;;;AACA,cAAI,CAAC6E,OAAD,IAAY3F,IAAI,KAAKY,OAArB,IAAgCmE,iBAApC,EAAuD;AACrD;AACA;AACA,gBAAIoB,MAAM,GAAGzD,QAAQ,CAAC0D,gBAAT,CAA0B,OAA1B,CAAb;AACA,gBAAIC,aAAa,GAAGC,SAAS,CAACtG,IAAD,EAAO,OAAP,CAAT,IAA4B,KAAhD;AACA,gBAAIuG,aAAa,GACfvG,IAAI,CAACgC,EAAL,IACAU,QAAQ,CAAC0D,gBAAT,CAA0B,gBAAgBpG,IAAI,CAACgC,EAArB,GAA0B,IAApD,EAA0D0B,MAD1D,GAEIhB,QAAQ,CAAC8D,aAAT,CAAuB,gBAAgBxG,IAAI,CAACgC,EAArB,GAA0B,IAAjD,CAFJ,GAGI,KAJN;AAKA,gBAAIyE,SAAS,GAAG,CAAhB;AACA,gBAAIC,SAAS,GAAG,CAAhB;;AACA,iBAAK1C,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGmC,MAAM,CAACzC,MAAvB,EAA+BM,CAAC,EAAhC,EAAoC;AAClC,kBAAImC,MAAM,CAACnC,CAAD,CAAN,KAAcqC,aAAlB,EAAiC;AAC/BI,gBAAAA,SAAS,GAAGzC,CAAZ;AACD,eAFD,MAEO,IAAImC,MAAM,CAACnC,CAAD,CAAN,KAAcuC,aAAlB,EAAiC;AACtCG,gBAAAA,SAAS,GAAG1C,CAAZ;AACD;AACF;;AACD,gBAAI2C,eAAe,GACjBN,aAAa,IACbA,aAAa,CAAC9F,QAAd,KAA2B,CAD3B,IAEAgG,aAFA,IAGAA,aAAa,CAAChG,QAAd,KAA2B,CAH3B,IAIAkG,SAAS,GAAGC,SAJZ,GAKI,IALJ,GAMI,KAPN;;AASA,gBAAIH,aAAJ,EAAmB;AACjB,kBAAIK,QAAQ,GAAG/C,IAAI,CACjBlD,IAAI,CAAC4F,aAAD,EAAgB,IAAhB,EAAsBzF,IAAtB,EAA4B,CAACd,IAAD,CAA5B,EAAoC,KAApC,EAA2C;AAC7C+C,gBAAAA,GAAG,EAAE9B,OADwC;AAE7CkB,gBAAAA,GAAG,EAAEoE;AAFwC,eAA3C,CAAJ,CAGGnG,IAJc,CAAnB;AAMD;;AACD,gBAAIiG,aAAa,IAAIA,aAAa,KAAKE,aAAvC,EAAsD;AACpD,kBAAIM,QAAQ,GAAGhD,IAAI,CACjBlD,IAAI,CAAC0F,aAAD,EAAgB,IAAhB,EAAsBvF,IAAtB,EAA4B,CAACd,IAAD,CAA5B,EAAoC,KAApC,EAA2C;AAC7C+C,gBAAAA,GAAG,EAAE9B,OADwC;AAE7CkB,gBAAAA,GAAG,EAAEkE;AAFwC,eAA3C,CAAJ,CAGGjG,IAJc,CAAnB;AAMD;;AAED,gBAAIyG,QAAQ,IAAID,QAAZ,IAAwBD,eAA5B,EAA6C;AAC3CvG,cAAAA,IAAI,GAAGyG,QAAQ,GAAG,GAAX,GAAiBD,QAAxB;AACD,aAFD,MAEO,IAAIA,QAAQ,IAAIC,QAAhB,EAA0B;AAC/BzG,cAAAA,IAAI,GAAGwG,QAAQ,GAAG,GAAX,GAAiBC,QAAxB;AACD,aAFM,MAEA,IAAID,QAAJ,EAAc;AACnBxG,cAAAA,IAAI,GAAGwG,QAAP;AACD,aAFM,MAEA,IAAIC,QAAJ,EAAc;AACnBzG,cAAAA,IAAI,GAAGyG,QAAP;AACD;;AAED,gBAAIhD,IAAI,CAACzD,IAAD,CAAR,EAAgB;AACduF,cAAAA,OAAO,GAAG,IAAV;AACD;AACF,WAhNsB,CAkNvB;AACA;;;AACA,cAAImB,OAAO,GACR7B,cAAc,IAAIjF,IAAI,CAACyE,YAAL,CAAkB,MAAlB,CAAnB,IAAiD,KADnD;AAEA,cAAIsC,QAAQ,GACTD,OAAO,IAAIjD,IAAI,CAAC7D,IAAI,CAACyE,YAAL,CAAkB,OAAlB,CAAD,CAAhB,IAAiD,KADnD;AAGA,cAAIuC,gBAAgB,GAClB,CAACrB,OAAD,IACAb,KADA,IAEAmC,iBAAiB,CAACpF,OAAlB,CAA0BiD,KAA1B,MAAqC,CAAC,CAFtC,IAGA,CAAC7C,WAAW,CAACjC,IAAD,CAHZ,IAIA,CAACkH,aAAa,CAAClH,IAAD,CAJd,GAKI,IALJ,GAMI,KAPN;AAQA,cAAImH,IAAI,GAAGH,gBAAgB,GAAG,EAAH,GAAQnD,IAAI,CAAC7D,IAAI,CAACyE,YAAL,CAAkB,KAAlB,CAAD,CAAvC,CAjOuB,CAmOvB;;AACA,cACE,CAACkB,OAAD,IACA,CAACqB,gBADD,KAECnC,IAAI,KAAK,KAAT,IAAkBiC,OAAO,KAAK,OAF/B,KAGAK,IAJF,EAKE;AACA;AACA/G,YAAAA,IAAI,GAAGyD,IAAI,CAACsD,IAAD,CAAX;;AACA,gBAAItD,IAAI,CAACzD,IAAD,CAAR,EAAgB;AACduF,cAAAA,OAAO,GAAG,IAAV;AACD;AACF;;AAED,cACE,CAACA,OAAD,IACA3F,IAAI,KAAKY,OADT,IAEAkG,OAFA,IAGA,CAAC,QAAD,EAAW,OAAX,EAAoB,QAApB,EAA8B,OAA9B,EAAuCjF,OAAvC,CAA+CiF,OAA/C,MAA4D,CAAC,CAJ/D,EAKE;AACA,gBAAIC,QAAJ,EAAc;AACZ3G,cAAAA,IAAI,GAAG2G,QAAP;AACD,aAFD,MAEO;AACL,sBAAQD,OAAR;AACE,qBAAK,QAAL;AACA,qBAAK,OAAL;AACE1G,kBAAAA,IAAI,GAAG,cAAP;AACA;;AACF,qBAAK,OAAL;AACEA,kBAAAA,IAAI,GAAG,OAAP;AACA;;AACF;AACEA,kBAAAA,IAAI,GAAG,EAAP;AATJ;AAWD;;AACD,gBAAIyD,IAAI,CAACzD,IAAD,CAAR,EAAgB;AACduF,cAAAA,OAAO,GAAG,IAAV;AACD;AACF;;AAED,cACEA,OAAO,IACP3F,IAAI,KAAKY,OADT,IAEAkG,OAFA,IAGA,CAAC,QAAD,EAAW,QAAX,EAAqB,OAArB,EAA8BjF,OAA9B,CAAsCiF,OAAtC,MAAmD,CAAC,CAHpD,IAIAC,QAJA,IAKAA,QAAQ,KAAK3G,IALb,IAMA,CAACgE,MAAM,CAAC/D,IAPV,EAQE;AACA+D,YAAAA,MAAM,CAAC/D,IAAP,GAAc0G,QAAd;AACD,WArRsB,CAuRvB;;;AACA,cACE/G,IAAI,KAAKQ,QAAT,IACA,CAACwG,gBADD,IAEAnD,IAAI,CAACe,MAAD,CAFJ,IAGA,CAACiB,uBAJH,EAKE;AACAzB,YAAAA,MAAM,CAACjD,KAAP,GAAe0C,IAAI,CAACe,MAAD,CAAnB;AACD,WA/RsB,CAiSvB;AACA;;;AACA,cAAIgB,KAAK,IAAI,CAACb,iBAAV,IAA+BF,IAAI,KAAK,KAA5C,EAAmD;AACjDX,YAAAA,GAAG,GAAG0B,KAAK,CAACG,KAAN,CAAY,KAAZ,CAAN;AACA5B,YAAAA,KAAK,GAAG,EAAR;;AACA,iBAAKH,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGE,GAAG,CAACR,MAApB,EAA4BM,CAAC,EAA7B,EAAiC;AAC/BC,cAAAA,OAAO,GAAGvB,QAAQ,CAACsD,cAAT,CAAwB9B,GAAG,CAACF,CAAD,CAA3B,CAAV,CAD+B,CAE/B;;AACA,kBAAIC,OAAO,IAAIvD,IAAI,CAACmB,OAAL,CAAaqC,GAAG,CAACF,CAAD,CAAhB,MAAyB,CAAC,CAAzC,EAA4C;AAC1CtD,gBAAAA,IAAI,CAAC8B,IAAL,CAAU0B,GAAG,CAACF,CAAD,CAAb;AACA,oBAAIoD,GAAG,GAAG;AAAErE,kBAAAA,GAAG,EAAE9B,OAAP;AAAgBkB,kBAAAA,GAAG,EAAElB,OAAO,CAACkB;AAA7B,iBAAV;AACAiF,gBAAAA,GAAG,CAAClD,GAAG,CAACF,CAAD,CAAJ,CAAH,GAAc;AACZpD,kBAAAA,OAAO,EAAEA,OADG;AAEZZ,kBAAAA,IAAI,EAAEA,IAFM;AAGZ8F,kBAAAA,MAAM,EAAE7B;AAHI,iBAAd;;AAKA,oBAAI,CAACjB,cAAc,CAACiB,OAAD,EAAUvB,QAAQ,CAACC,IAAnB,EAAyB,IAAzB,CAAnB,EAAmD;AACjDwB,kBAAAA,KAAK,CAAC3B,IAAN,CAAW7B,IAAI,CAACsD,OAAD,EAAU,IAAV,EAAgBnD,IAAhB,EAAsB,EAAtB,EAA0B,KAA1B,EAAiCsG,GAAjC,CAAJ,CAA0ChH,IAArD;AACD;AACF;AACF,aAlBgD,CAmBjD;;;AACAkE,YAAAA,KAAK,GAAGH,KAAK,CAAC8B,IAAN,CAAW,EAAX,CAAR;AACD;AACF,SAzTD,CA2TA;AA3TA,aA4TK,IAAIjG,IAAI,CAACO,QAAL,KAAkB,CAAtB,EAAyB;AAC5BH,YAAAA,IAAI,GAAGJ,IAAI,CAACqH,IAAZ;AACD,WAtYY,CAwYb;;;AACAjH,QAAAA,IAAI,GAAGmE,IAAI,CAAC1B,MAAL,GAAczC,IAAI,CAACkH,OAAL,CAAa,MAAb,EAAqB,GAArB,CAAd,GAA0C/C,IAAI,CAACzB,KAAtD;;AAEA,YACE1C,IAAI,CAACsD,MAAL,IACA,CAAC6D,sBAAsB,CAACvH,IAAD,EAAOiB,OAAO,CAACkB,GAAf,EAAoBlB,OAApB,EAA6BiC,YAA7B,CAFzB,EAGE;AACAkB,UAAAA,MAAM,CAAChE,IAAP,GAAcA,IAAd;AACD;;AAEDgE,QAAAA,MAAM,CAAC1D,IAAP,GAAc4D,KAAd;AAEA,eAAOF,MAAP;AACD,OAvZiB,EAwZlBxD,OAxZkB,CAApB,CA7JA,CAwjBA;;AACAM,MAAAA,UAAU,CAACd,IAAX,GACEwC,KAAK,CAACC,MAAN,GAAe3B,UAAU,CAACd,IAAX,CAAgBkH,OAAhB,CAAwB,MAAxB,EAAgC,GAAhC,CAAf,GAAsD1E,KAAK,CAACE,KAD9D;AAGA,aAAO5B,UAAP;AACD,KApkBD;;AAskBA,QAAIM,OAAO,GAAG,UAASxB,IAAT,EAAe;AAC3B,UAAIuB,IAAI,GAAGvB,IAAI,IAAIA,IAAI,CAACyE,YAAb,GAA4BzE,IAAI,CAACyE,YAAL,CAAkB,MAAlB,CAA5B,GAAwD,EAAnE;;AACA,UAAI,CAACZ,IAAI,CAACtC,IAAD,CAAT,EAAiB;AACf,eAAO,EAAP;AACD;;AACD,UAAIF,MAAM,GAAG,UAASC,IAAT,EAAe;AAC1B,eAAOuC,IAAI,CAACtC,IAAD,CAAJ,CAAWmC,MAAX,GAAoB,CAApB,IAAyBpC,IAAI,CAACM,KAAL,CAAWC,OAAX,CAAmBN,IAAnB,KAA4B,CAA5D;AACD,OAFD;;AAGA,UAAIK,KAAK,GAAGL,IAAI,CAACwE,KAAL,CAAW,KAAX,CAAZ;;AACA,WAAK,IAAI/B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGpC,KAAK,CAAC8B,MAA1B,EAAkCM,CAAC,EAAnC,EAAuC;AACrCzC,QAAAA,IAAI,GAAGK,KAAK,CAACoC,CAAD,CAAZ;;AACA,YACE3C,MAAM,CAACe,KAAD,CAAN,IACAf,MAAM,CAACgB,KAAD,CADN,IAEAhB,MAAM,CAACU,KAAD,CAFN,IAGAkF,iBAAiB,CAACpF,OAAlB,CAA0BN,IAA1B,MAAoC,CAAC,CAJvC,EAKE;AACA,iBAAOA,IAAP;AACD;AACF;;AACD,aAAO,EAAP;AACD,KArBD;;AAuBA,QAAIU,WAAW,GAAG,UAASjC,IAAT,EAAe;AAC/B,UAAI0B,QAAQ,GAAG1B,IAAI,CAAC0B,QAAL,CAAcC,WAAd,EAAf;;AACA,UAAI3B,IAAI,CAACyE,YAAL,CAAkB,UAAlB,CAAJ,EAAmC;AACjC,eAAO,IAAP;AACD;;AACD,UAAI/C,QAAQ,KAAK,GAAb,IAAoB1B,IAAI,CAACyE,YAAL,CAAkB,MAAlB,CAAxB,EAAmD;AACjD,eAAO,IAAP;AACD;;AACD,UACE,CAAC,QAAD,EAAW,OAAX,EAAoB,QAApB,EAA8B,UAA9B,EAA0C5C,OAA1C,CAAkDH,QAAlD,MAAgE,CAAC,CAAjE,IACA1B,IAAI,CAACyE,YAAL,CAAkB,MAAlB,MAA8B,QAFhC,EAGE;AACA,eAAO,IAAP;AACD;;AACD,aAAO,KAAP;AACD,KAfD,CAzmBE,CA0nBF;AACA;AACA;AAEA;AACA;AACA;;;AACA,QAAIrC,KAAK,GAAG;AACVR,MAAAA,KAAK,EAAE,CACL,QADK,EAEL,UAFK,EAGL,MAHK,EAIL,QAJK,EAKL,OALK,EAML,QANK,EAOL,KAPK,EAQL,UARK,EASL,UATK,EAUL,kBAVK,EAWL,eAXK,EAYL,KAZK,EAaL,MAbK,EAcL,UAdK,EAeL,cAfK,EAgBL,WAhBK,EAiBL,SAjBK,EAkBL,SAlBK,CADG;AAqBVE,MAAAA,IAAI,EAAE,CACJ,GADI,EAEJ,QAFI,EAGJ,SAHI,EAIJ,OAJI,EAKJ,IALI,EAMJ,IANI,EAOJ,IAPI,EAQJ,IARI,EASJ,IATI,EAUJ,IAVI,EAWJ,UAXI,EAYJ,QAZI,EAaJ,IAbI,EAcJ,IAdI,EAeJ,IAfI;AArBI,KAAZ,CAjoBE,CAwqBF;AACA;;AACA,QAAIO,KAAK,GAAG;AACVT,MAAAA,KAAK,EAAE,CACL,aADK,EAEL,OAFK,EAGL,KAHK,EAIL,SAJK,EAKL,OALK,EAML,aANK,EAOL,QAPK,EAQL,QARK,EASL,eATK,EAUL,MAVK,EAWL,MAXK,EAYL,YAZK,EAaL,QAbK,EAcL,QAdK,EAeL,SAfK,EAgBL,UAhBK,EAiBL,MAjBK,EAkBL,QAlBK,EAmBL,KAnBK,EAoBL,MApBK,EAqBL,SArBK,EAsBL,MAtBK,EAuBL,SAvBK,EAwBL,MAxBK,EAyBL,SAzBK,EA0BL,YA1BK,EA2BL,SA3BK,EA4BL,WA5BK,EA6BL,YA7BK,EA8BL,WA9BK,EA+BL,QA/BK,EAgCL,SAhCK,EAiCL,UAjCK,EAkCL,MAlCK,EAmCL,UAnCK,EAoCL,WApCK,EAqCL,UArCK,CADG;AAwCVE,MAAAA,IAAI,EAAE,CACJ,SADI,EAEJ,OAFI,EAGJ,MAHI,EAIJ,QAJI,EAKJ,UALI,EAMJ,UANI,EAOJ,QAPI,EAQJ,QARI,EASJ,QATI,EAUJ,MAVI,EAWJ,QAXI,EAYJ,IAZI,EAaJ,KAbI,EAcJ,UAdI,EAeJ,OAfI,EAgBJ,MAhBI,EAiBJ,MAjBI,EAkBJ,MAlBI,EAmBJ,KAnBI,EAoBJ,SApBI,EAqBJ,OArBI,EAsBJ,OAtBI,EAuBJ,OAvBI;AAxCI,KAAZ,CA1qBE,CA4uBF;;AACA,QAAIC,KAAK,GAAG;AACVH,MAAAA,KAAK,EAAE,CACL,MADK,EAEL,YAFK,EAGL,WAHK,EAIL,MAJK,EAKL,OALK,EAML,MANK,EAOL,QAPK,EAQL,OARK,EASL,aATK,CADG;AAYVE,MAAAA,IAAI,EAAE,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,EAAyB,SAAzB,EAAoC,QAApC,EAA8C,OAA9C;AAZI,KAAZ;AAeA,QAAIkD,gBAAgB,GAAG,CAAC,QAAD,EAAW,OAAX,EAAoB,QAApB,EAA8B,UAA9B,CAAvB;AACA,QAAIG,gBAAgB,GAAG,CAAC,WAAD,EAAc,QAAd,EAAwB,YAAxB,CAAvB;AACA,QAAIE,eAAe,GAAG,CAAC,WAAD,EAAc,SAAd,CAAtB;AACA,QAAIE,iBAAiB,GAAG,CAAC,MAAD,EAAS,SAAT,EAAoB,SAApB,EAA+B,MAA/B,EAAuC,UAAvC,CAAxB;AACA,QAAIG,gBAAgB,GAAG,CACrB,QADqB,EAErB,UAFqB,EAGrB,MAHqB,EAIrB,QAJqB,EAKrB,QALqB,EAMrB,MANqB,EAOrB,SAPqB,EAQrB,UARqB,EASrB,kBATqB,EAUrB,eAVqB,EAWrB,OAXqB,EAYrB,KAZqB,EAarB,UAbqB,EAcrB,UAdqB,CAAvB;AAgBA,QAAIuB,iBAAiB,GAAG,CAAC,cAAD,EAAiB,MAAjB,CAAxB;;AAEA,QAAIC,aAAa,GAAG,UAASlH,IAAT,EAAe;AACjC,UAAIwH,oBAAoB,GAAG,CACzB,MADyB,EAEzB,UAFyB,EAGzB,SAHyB,EAIzB,aAJyB,EAKzB,SALyB,EAMzB,UANyB,EAOzB,YAPyB,EAQzB,cARyB,EASzB,QATyB,EAUzB,SAVyB,EAWzB,UAXyB,EAYzB,SAZyB,EAazB,cAbyB,EAczB,MAdyB,EAezB,MAfyB,EAgBzB,iBAhByB,CAA3B;;AAkBA,WAAK,IAAIxD,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGwD,oBAAoB,CAAC9D,MAAzC,EAAiDM,CAAC,EAAlD,EAAsD;AACpD,YAAIyD,CAAC,GAAG5D,IAAI,CAAC7D,IAAI,CAACyE,YAAL,CAAkB,UAAU+C,oBAAoB,CAACxD,CAAD,CAAhD,CAAD,CAAZ;;AACA,YAAIyD,CAAJ,EAAO;AACL,iBAAO,IAAP;AACD;AACF;;AACD,aAAO,KAAP;AACD,KA1BD;;AA4BA,QAAIxE,QAAQ,GAAG,UAASjD,IAAT,EAAeY,OAAf,EAAwB;AACrC,UAAI8G,MAAM,GAAG,UAAS1H,IAAT,EAAe;AAC1B,YAAI,CAACA,IAAD,IAASA,IAAI,CAACO,QAAL,KAAkB,CAA3B,IAAgCP,IAAI,KAAKY,OAA7C,EAAsD;AACpD,iBAAO,KAAP;AACD;;AACD,YAAIZ,IAAI,CAACyE,YAAL,CAAkB,aAAlB,MAAqC,MAAzC,EAAiD;AAC/C,iBAAO,IAAP;AACD;;AACD,YAAIzE,IAAI,CAACyE,YAAL,CAAkB,QAAlB,CAAJ,EAAiC;AAC/B,iBAAO,IAAP;AACD;;AACD,YAAIkD,KAAK,GAAGC,cAAc,CAAC5H,IAAD,CAA1B;;AACA,YAAI2H,KAAK,CAAC,SAAD,CAAL,KAAqB,MAArB,IAA+BA,KAAK,CAAC,YAAD,CAAL,KAAwB,QAA3D,EAAqE;AACnE,iBAAO,IAAP;AACD;;AACD,eAAO,KAAP;AACD,OAfD;;AAgBA,aAAOD,MAAM,CAAC1H,IAAD,CAAb;AACD,KAlBD;;AAoBA,QAAIgD,cAAc,GAAG,UAAShD,IAAT,EAAeY,OAAf,EAAwBiH,SAAxB,EAAmCC,WAAnC,EAAgD;AACnE,aAAO9H,IAAI,IAAIA,IAAI,KAAKY,OAAxB,EAAiC;AAC/B,YAAI,CAACkH,WAAD,IAAgB9H,IAAI,CAACO,QAAL,KAAkB,CAAlC,IAAuC0C,QAAQ,CAACjD,IAAD,EAAOY,OAAP,CAAnD,EAAoE;AAClE,iBAAO,IAAP;AACD,SAFD,MAEOkH,WAAW,GAAG,KAAd;;AACP9H,QAAAA,IAAI,GAAGA,IAAI,CAACyC,UAAZ;AACD;;AACD,aAAO,KAAP;AACD,KARD;;AAUA,QAAImF,cAAc,GAAG,UAAS5H,IAAT,EAAe;AAClC,UAAI2H,KAAK,GAAG,EAAZ;;AACA,UAAIjF,QAAQ,CAACqF,WAAT,IAAwBrF,QAAQ,CAACqF,WAAT,CAAqBC,gBAAjD,EAAmE;AACjEL,QAAAA,KAAK,GAAGjF,QAAQ,CAACqF,WAAT,CAAqBC,gBAArB,CAAsChI,IAAtC,EAA4C,EAA5C,CAAR;AACD,OAFD,MAEO,IAAIA,IAAI,CAACiI,YAAT,EAAuB;AAC5BN,QAAAA,KAAK,GAAG3H,IAAI,CAACiI,YAAb;AACD;;AACD,aAAON,KAAP;AACD,KARD;;AAUA,QAAIO,YAAY,GAAG,UAASlI,IAAT,EAAemI,IAAf,EAAqB;AACtC,UAAIC,CAAC,GAAGD,IAAR;;AACA,UAAIC,CAAC,CAACvG,OAAF,CAAU,OAAV,MAAuB,CAAC,CAA5B,EAA+B;AAC7B,YAAIwG,CAAC,GAAGD,CAAC,CAACE,KAAF,CAAQ,wBAAR,CAAR;;AACA,aAAK,IAAItE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqE,CAAC,CAAC3E,MAAtB,EAA8BM,CAAC,EAA/B,EAAmC;AACjC,cAAIuE,CAAC,GAAGF,CAAC,CAACrE,CAAD,CAAD,CAAKwE,KAAL,CAAW,CAAX,EAAc,CAAC,CAAf,CAAR;AACAD,UAAAA,CAAC,GAAGvI,IAAI,CAACyE,YAAL,CAAkB8D,CAAlB,KAAwB,EAA5B;AACAH,UAAAA,CAAC,GAAGA,CAAC,CAACd,OAAF,CAAUe,CAAC,CAACrE,CAAD,CAAX,EAAgBuE,CAAhB,CAAJ;AACD;AACF;;AACD,aAAOH,CAAC,IAAID,IAAZ;AACD,KAXD;;AAaA,QAAI3E,mBAAmB,GAAG,UAASxD,IAAT,EAAeyI,MAAf,EAAuB;AAC/C,UAAIC,WAAW,GAAGD,MAAM,IAAIb,cAAc,CAAC5H,IAAD,CAA1C;;AACA,WAAK,IAAI2I,IAAT,IAAiBC,WAAjB,EAA8B;AAC5B,YAAIC,MAAM,GAAGD,WAAW,CAACD,IAAD,CAAxB;;AACA,aAAK,IAAI3E,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6E,MAAM,CAACnF,MAA3B,EAAmCM,CAAC,EAApC,EAAwC;AACtC,cACE0E,WAAW,CAACC,IAAD,CAAX,KACEE,MAAM,CAAC7E,CAAD,CAAN,CAAUnC,OAAV,CAAkB,GAAlB,MAA2B,CAA3B,IACA,CAACgH,MAAM,CAAC7E,CAAD,CAAN,CAAUwE,KAAV,CAAgB,CAAhB,CAAD,EAAqB,SAArB,EAAgC,SAAhC,EAA2C,OAA3C,EAAoD3G,OAApD,CACE6G,WAAW,CAACC,IAAD,CADb,MAEM,CAAC,CAHR,IAICD,WAAW,CAACC,IAAD,CAAX,CAAkB9G,OAAlB,CAA0BgH,MAAM,CAAC7E,CAAD,CAAhC,MAAyC,CAL3C,CADF,EAOE;AACA,mBAAO,IAAP;AACD;AACF;AACF;;AACD,UACE,CAACyE,MAAD,IACAzI,IAAI,CAAC0B,QADL,IAEAoH,aAAa,CAACjH,OAAd,CAAsB7B,IAAI,CAAC0B,QAAL,CAAcC,WAAd,EAAtB,MAAuD,CAAC,CAFxD,IAGA,EACE+G,WAAW,CAAC,SAAD,CAAX,IACAA,WAAW,CAAC,SAAD,CAAX,CAAuB7G,OAAvB,CAA+B,QAA/B,MAA6C,CAD7C,IAEA7B,IAAI,CAAC0B,QAAL,CAAcC,WAAd,OAAgC,IAHlC,CAJF,EASE;AACA,eAAO,IAAP;AACD;;AACD,aAAO,KAAP;AACD,KA9BD,CAn2BE,CAm4BF;AACA;;;AACA,QAAIiH,WAAW,GAAG;AAChBG,MAAAA,OAAO,EAAE,CAAC,OAAD,EAAU,MAAV,EAAkB,OAAlB,EAA2B,WAA3B,EAAwC,MAAxC,CADO;AAEhBC,MAAAA,QAAQ,EAAE,CAAC,UAAD,EAAa,OAAb,CAFM;AAGhBC,MAAAA,KAAK,EAAE,CAAC,MAAD,EAAS,OAAT,EAAkB,QAAlB,CAHS;AAIhBC,MAAAA,KAAK,EAAE,CAAC,MAAD,EAAS,OAAT,EAAkB,MAAlB,EAA0B,QAA1B,CAJS;AAKhBC,MAAAA,QAAQ,EAAE,CAAC,QAAD,EAAW,QAAX,EAAqB,MAArB,CALM;AAMhB,sBAAgB,CAAC,OAAD,CANA;AAOhB,sBAAgB,CAAC,OAAD,CAPA;AAQhB,qBAAe,CAAC,KAAD,CARC;AAShBC,MAAAA,OAAO,EAAE,CAAC,QAAD,EAAW,SAAX,EAAsB,QAAtB;AATO,KAAlB,CAr4BE,CAi5BF;AACA;AACA;AACA;AACA;;AACA,QAAIN,aAAa,GAAG,CAClB,SADkB,EAElB,SAFkB,EAGlB,OAHkB,EAIlB,YAJkB,EAKlB,IALkB,EAMlB,QANkB,EAOlB,IAPkB,EAQlB,KARkB,EASlB,IATkB,EAUlB,IAVkB,EAWlB,UAXkB,EAYlB,YAZkB,EAalB,QAbkB,EAclB,QAdkB,EAelB,MAfkB,EAgBlB,IAhBkB,EAiBlB,IAjBkB,EAkBlB,IAlBkB,EAmBlB,IAnBkB,EAoBlB,IApBkB,EAqBlB,IArBkB,EAsBlB,QAtBkB,EAuBlB,QAvBkB,EAwBlB,IAxBkB,EAyBlB,QAzBkB,EA0BlB,IA1BkB,EA2BlB,MA3BkB,EA4BlB,KA5BkB,EA6BlB,UA7BkB,EA8BlB,IA9BkB,EA+BlB,QA/BkB,EAgClB,GAhCkB,EAiClB,KAjCkB,EAkClB,SAlCkB,EAmClB,OAnCkB,EAoClB,IApCkB,EAqClB,OArCkB,EAsClB,IAtCkB,EAuClB,IAvCkB,EAwClB,IAxCkB,EAyClB,OAzCkB,CAApB;;AA4CA,QAAI5C,cAAc,GAAG,UACnB3E,IADmB,EAEnBvB,IAFmB,EAGnBqJ,OAHmB,EAInBC,MAJmB,EAKnBC,QALmB,EAMnBC,QANmB,EAOnB;AACA,UAAIC,GAAG,GAAG,EAAV;AACA,UAAIC,MAAM,GAAG,KAAb;;AAEA,UAAIL,OAAO,IAAI,CAACG,QAAhB,EAA0B;AACxBC,QAAAA,GAAG,GACDzJ,IAAI,CAACyE,YAAL,CAAkB,gBAAlB,KACAzE,IAAI,CAACyE,YAAL,CAAkB,eAAlB,CADA,IAEA,EAHF;AAID,OALD,MAKO,IAAI6E,MAAM,IAAI,CAACE,QAAf,EAAyB;AAC9BC,QAAAA,GAAG,GAAGE,OAAO,CAAC3J,IAAD,CAAP,IAAiB,EAAvB;AACD,OAFM,MAEA,IAAIuJ,QAAQ,IAAI,CAACC,QAAjB,EAA2B;AAChC,YAAII,UAAU,GAAG,EAAjB;;AACA,YAAIrI,IAAI,KAAK,MAAT,IAAmBA,IAAI,KAAK,UAAhC,EAA4C;AAC1CqI,UAAAA,UAAU,GAAG,CAAC,UAAD,EAAa,WAAb,EAA0B,cAA1B,CAAb;AACD,SAFD,MAEO,IAAIrI,IAAI,KAAK,SAAb,EAAwB;AAC7BqI,UAAAA,UAAU,GAAG,CAAC,QAAD,CAAb;AACD,SAFM,MAEA,IAAIrI,IAAI,KAAK,SAAb,EAAwB;AAC7BqI,UAAAA,UAAU,GAAG,CAAC,KAAD,CAAb;AACD,SAFM,MAEA,IAAIrI,IAAI,KAAK,MAAb,EAAqB;AAC1BqI,UAAAA,UAAU,GAAG,CAAC,UAAD,CAAb;AACD;;AACDH,QAAAA,GAAG,GAAGI,iBAAiB,CACrB7J,IADqB,EAErBA,IAAI,CAACoG,gBAAL,CAAsB,yBAAtB,CAFqB,EAGrB,KAHqB,EAIrBwD,UAJqB,CAAvB;AAMAF,QAAAA,MAAM,GAAG,IAAT;AACD;;AACDD,MAAAA,GAAG,GAAG5F,IAAI,CAAC4F,GAAD,CAAV;;AACA,UAAI,CAACA,GAAD,KAASJ,OAAO,IAAIC,MAApB,KAA+BtJ,IAAI,CAAC8J,KAAxC,EAA+C;AAC7CL,QAAAA,GAAG,GAAGzJ,IAAI,CAAC8J,KAAX;AACD;;AACD,UAAI,CAACJ,MAAD,IAAW,CAACD,GAAZ,IAAmBD,QAAvB,EAAiC;AAC/B,YAAID,QAAJ,EAAc;AACZE,UAAAA,GAAG,GAAGI,iBAAiB,CACrB7J,IADqB,EAErBA,IAAI,CAACoG,gBAAL,CAAsB,kBAAtB,CAFqB,EAGrB,IAHqB,CAAvB;AAKD,SAND,MAMO;AACLqD,UAAAA,GAAG,GAAGzJ,IAAI,CAAC8J,KAAX;AACD;AACF;;AAED,aAAOL,GAAP;AACD,KAtDD;;AAwDA,QAAI3F,UAAU,GAAG,UAASsE,CAAT,EAAY;AAC3B,aAAOvE,IAAI,CAACuE,CAAD,CAAJ,CAAQ1E,MAAR,GAAiB,MAAM0E,CAAN,GAAU,GAA3B,GAAiC,GAAxC;AACD,KAFD;;AAIA,QAAIyB,iBAAiB,GAAG,UAAS7J,IAAT,EAAe+J,GAAf,EAAoBP,QAApB,EAA8BI,UAA9B,EAA0C;AAChE,UAAI,CAACG,GAAD,IAAQ,CAACA,GAAG,CAACrG,MAAjB,EAAyB;AACvB,eAAO,EAAP;AACD;;AACD,UAAIS,KAAK,GAAG,EAAZ;;AACA,WAAK,IAAIH,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG+F,GAAG,CAACrG,MAAxB,EAAgCM,CAAC,EAAjC,EAAqC;AACnC,YAAIzC,IAAI,GAAGC,OAAO,CAACuI,GAAG,CAAC/F,CAAD,CAAJ,CAAlB;AACA,YAAIgG,gBAAgB,GAAG,CAACJ,UAAD,IAAeA,UAAU,CAAC/H,OAAX,CAAmBN,IAAnB,MAA6B,CAAC,CAApE;;AACA,YAAIyI,gBAAJ,EAAsB;AACpB7F,UAAAA,KAAK,CAAC3B,IAAN,CACEgH,QAAQ,GACJG,OAAO,CAACI,GAAG,CAAC/F,CAAD,CAAJ,CADH,GAEJrD,IAAI,CAACoJ,GAAG,CAAC/F,CAAD,CAAJ,EAAS,IAAT,EAAe,KAAf,EAAsB,EAAtB,EAA0B,KAA1B,EAAiC;AAAE7B,YAAAA,GAAG,EAAE4H,GAAG,CAAC/F,CAAD;AAAV,WAAjC,CAAJ,CAAsD5D,IAH5D;AAKD;AACF;;AACD,aAAO+D,KAAK,CAAC8B,IAAN,CAAW,GAAX,CAAP;AACD,KAjBD;;AAmBA,QAAIgE,mBAAmB,GAAG,UAASjK,IAAT,EAAegJ,QAAf,EAAyB;AACjD,UAAIkB,QAAQ,GAAG,EAAf;;AACA,WAAK,IAAIvB,IAAT,IAAiBC,WAAjB,EAA8B;AAC5BsB,QAAAA,QAAQ,CAACvB,IAAD,CAAR,GAAiBjG,QAAQ,CAACqF,WAAT,CACdC,gBADc,CACGhI,IADH,EACSgJ,QADT,EAEdmB,gBAFc,CAEGxB,IAFH,CAAjB;AAGD;;AACDuB,MAAAA,QAAQ,CAAC,SAAD,CAAR,GAAsBxH,QAAQ,CAACqF,WAAT,CACnBC,gBADmB,CACFhI,IADE,EACIgJ,QADJ,EAEnBmB,gBAFmB,CAEF,SAFE,EAGnB7C,OAHmB,CAGX,WAHW,EAGE,EAHF,CAAtB;AAIA,aAAO4C,QAAP;AACD,KAZD;;AAcA,QAAIP,OAAO,GAAG,UAAS3J,IAAT,EAAegJ,QAAf,EAAyB;AACrC,UAAI,CAACA,QAAD,IAAahJ,IAAI,CAACO,QAAL,KAAkB,CAAnC,EAAsC;AACpC,eAAOP,IAAI,CAACoK,SAAL,IAAkBpK,IAAI,CAACqK,WAAvB,IAAsC,EAA7C;AACD;;AACD,UAAIC,MAAM,GAAGL,mBAAmB,CAACjK,IAAD,EAAOgJ,QAAP,CAAhC;AACA,UAAIb,IAAI,GAAGmC,MAAM,CAAC,SAAD,CAAjB;;AACA,UAAI,CAACnC,IAAD,IAASA,IAAI,KAAK,MAAtB,EAA8B;AAC5B,eAAO,EAAP;AACD;;AACD,UAAI3E,mBAAmB,CAAC,EAAD,EAAK8G,MAAL,CAAvB,EAAqC;AACnC,YAAItB,QAAQ,KAAK,SAAjB,EAA4B;AAC1Bb,UAAAA,IAAI,IAAI,GAAR;AACD,SAFD,MAEO,IAAIa,QAAQ,KAAK,QAAjB,EAA2B;AAChCb,UAAAA,IAAI,GAAG,MAAMA,IAAb;AACD;AACF;;AACD,aAAOA,IAAP;AACD,KAjBD;;AAmBA,QAAIhF,UAAU,GAAG,UAASnD,IAAT,EAAeY,OAAf,EAAwB;AACvC,UACGZ,IAAI,IAAIA,IAAI,CAACO,QAAL,KAAkB,CAA3B,IACAP,IAAI,KAAKY,OADT,IAEA,CAAC,OAAD,EAAU,QAAV,EAAoB,UAApB,EAAgC,KAAhC,EAAuC,QAAvC,EAAiDiB,OAAjD,CACE7B,IAAI,CAAC0B,QAAL,CAAcC,WAAd,EADF,MAEM,CAAC,CALT,EAME;AACA,eAAO;AAAEkB,UAAAA,MAAM,EAAE,EAAV;AAAcC,UAAAA,KAAK,EAAE;AAArB,SAAP;AACD;;AACD,UAAIJ,QAAQ,CAACqF,WAAT,IAAwBrF,QAAQ,CAACqF,WAAT,CAAqBC,gBAAjD,EAAmE;AACjE,eAAO;AACLnF,UAAAA,MAAM,EAAEqF,YAAY,CAAClI,IAAD,EAAO2J,OAAO,CAAC3J,IAAD,EAAO,SAAP,CAAd,CADf;AAEL8C,UAAAA,KAAK,EAAEoF,YAAY,CAAClI,IAAD,EAAO2J,OAAO,CAAC3J,IAAD,EAAO,QAAP,CAAd;AAFd,SAAP;AAID,OALD,MAKO;AACL,eAAO;AAAE6C,UAAAA,MAAM,EAAE,EAAV;AAAcC,UAAAA,KAAK,EAAE;AAArB,SAAP;AACD;AACF,KAlBD;;AAoBA,QAAIwD,SAAS,GAAG,UAAStG,IAAT,EAAe6E,IAAf,EAAqB;AACnC,aAAO7E,IAAP,EAAa;AACXA,QAAAA,IAAI,GAAGA,IAAI,CAACyC,UAAZ;;AACA,YAAIzC,IAAI,IAAIA,IAAI,CAAC0B,QAAb,IAAyB1B,IAAI,CAAC0B,QAAL,CAAcC,WAAd,OAAgCkD,IAA7D,EAAmE;AACjE,iBAAO7E,IAAP;AACD;AACF;;AACD,aAAO,EAAP;AACD,KARD;;AAUA,QAAIuH,sBAAsB,GAAG,UAC3BvH,IAD2B,EAE3BY,OAF2B,EAG3BK,OAH2B,EAI3BiC,YAJ2B,EAK3B;AACA,UAAIX,UAAU,GAAG,EAAjB;;AACA,aAAOvC,IAAI,IAAIA,IAAI,KAAKY,OAAxB,EAAiC;AAC/B,YACEZ,IAAI,CAACgC,EAAL,IACAf,OADA,IAEAA,OAAO,CAACjB,IAAI,CAACgC,EAAN,CAFP,IAGAf,OAAO,CAACjB,IAAI,CAACgC,EAAN,CAAP,CAAiBhC,IAHjB,IAIAuC,UAAU,CAACV,OAAX,CAAmB7B,IAAnB,MAA6B,CAAC,CALhC,EAME;AACAuC,UAAAA,UAAU,CAACC,IAAX,CAAgBxC,IAAhB;AACAA,UAAAA,IAAI,GAAGiB,OAAO,CAACjB,IAAI,CAACgC,EAAN,CAAP,CAAiBhC,IAAxB;AACD,SATD,MASO;AACLA,UAAAA,IAAI,GAAGA,IAAI,CAACyC,UAAZ;AACD;;AACD,YAAIzC,IAAI,IAAIA,IAAI,CAACyE,YAAjB,EAA+B;AAC7B,cACEZ,IAAI,CAAC7D,IAAI,CAACyE,YAAL,CAAkB,YAAlB,CAAD,CAAJ,IACC,CAACvB,YAAD,IAAiBD,QAAQ,CAACjD,IAAD,EAAOY,OAAP,CAF5B,EAGE;AACA,mBAAO,IAAP;AACD;AACF;AACF;;AACD,aAAO,KAAP;AACD,KA9BD;;AAgCA,QAAIiD,IAAI,GAAG,UAAS0G,GAAT,EAAc;AACvB,UAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;AAC3B,eAAO,EAAP;AACD;;AACD,aAAOA,GAAG,CAACjD,OAAJ,CAAY,YAAZ,EAA0B,EAA1B,CAAP;AACD,KALD;;AAOA,QAAItE,cAAc,CAAChD,IAAD,EAAO0C,QAAQ,CAACC,IAAhB,EAAsB,IAAtB,CAAlB,EAA+C;AAC7C,aAAOxC,KAAP;AACD,KAznCC,CA2nCF;;;AACA,QAAIqK,QAAQ,GAAG7J,IAAI,CAACX,IAAD,EAAO,KAAP,EAAc,KAAd,EAAqB,EAArB,EAAyB,KAAzB,EAAgC;AAAEmC,MAAAA,GAAG,EAAEnC;AAAP,KAAhC,CAAnB;AAEA,QAAIyK,OAAO,GAAG5G,IAAI,CAAC2G,QAAQ,CAACpK,IAAT,CAAckH,OAAd,CAAsB,MAAtB,EAA8B,GAA9B,CAAD,CAAlB;AACA,QAAIoD,OAAO,GAAG7G,IAAI,CAAC2G,QAAQ,CAACrJ,KAAT,CAAemG,OAAf,CAAuB,MAAvB,EAA+B,GAA/B,CAAD,CAAlB;;AAEA,QAAImD,OAAO,KAAKC,OAAhB,EAAyB;AACvB;AACAA,MAAAA,OAAO,GAAG,EAAV;AACD;;AAEDvK,IAAAA,KAAK,CAACC,IAAN,GAAaqK,OAAb;AACAtK,IAAAA,KAAK,CAACE,IAAN,GAAaqK,OAAb,CAvoCE,CAyoCF;;AACAjK,IAAAA,KAAK,GAAG,EAAR;AACAC,IAAAA,IAAI,GAAG,EAAP;AACD,GA5oCD,CA4oCE,OAAOiK,CAAP,EAAU;AACVxK,IAAAA,KAAK,CAACG,KAAN,GAAcqK,CAAd;AACD;;AAED,MAAI1K,GAAG,IAAI,OAAOA,GAAP,KAAe,UAA1B,EAAsC;AACpC,WAAOA,GAAG,CAAC2K,KAAJ,CAAU5K,IAAV,EAAgB,CAACG,KAAD,EAAQH,IAAR,CAAhB,CAAP;AACD,GAFD,MAEO;AACL,WAAOG,KAAP;AACD;AACF,CA3pCD,C,CA6pCA;;;AAEAP,MAAM,CAACiL,aAAP,GAAuBjL,MAAM,CAACkL,QAAP,GAAkB,UAAS9K,IAAT,EAAe;AACtD,MAAIG,KAAK,GAAGP,MAAM,CAACG,SAAP,CAAiBC,IAAjB,CAAZ;;AACA,MAAIG,KAAK,CAACG,KAAV,EAAiB;AACf,WACEH,KAAK,CAACG,KAAN,GACA,MADA,GAEA,wDAFA,GAGAV,MAAM,CAACC,iBAHP,GAIA,iHAJA,GAKA,8DANF;AAQD,GATD,MASO;AACL,WACE,eACAM,KAAK,CAACC,IADN,GAEA,iBAFA,GAGAD,KAAK,CAACE,IAHN,GAIA,uDAJA,GAKAT,MAAM,CAACC,iBALP,GAMA,GAPF;AASD;AACF,CAtBD;;AAwBA,IAAI,OAAOkL,MAAP,KAAkB,QAAlB,IAA8BA,MAAM,CAACC,OAAzC,EAAkD;AAChDD,EAAAA,MAAM,CAACC,OAAP,GAAiB;AACfF,IAAAA,QAAQ,EAAElL,MAAM,CAACkL,QADF;AAEf/K,IAAAA,SAAS,EAAEH,MAAM,CAACG;AAFH,GAAjB;AAID","sourcesContent":["window.getAccNameVersion = \"2.22\";\r\n\r\n/*!\r\nCalcNames: The AccName Computation Prototype, compute the Name and Description property values for a DOM node\r\nReturns an object with 'name' and 'desc' properties.\r\nFunctionality mirrors the steps within the W3C Accessible Name and Description computation algorithm.\r\nhttp://www.w3.org/TR/accname-aam-1.1/\r\nAuthored by Bryan Garaventa, plus refactoring contrabutions by Tobias Bengfort\r\nhttps://github.com/whatsock/w3c-alternative-text-computation\r\nDistributed under the terms of the Open Source Initiative OSI - MIT License\r\n*/\r\n\r\n// AccName Computation Prototype\r\nwindow.getAccName = window.calcNames = function(\r\n  node,\r\n  fnc,\r\n  preventVisualARIASelfCSSRef\r\n) {\r\n  var props = { name: \"\", desc: \"\", error: \"\" };\r\n  try {\r\n    if (!node || node.nodeType !== 1) {\r\n      return props;\r\n    }\r\n    var rootNode = node;\r\n\r\n    // Track nodes to prevent duplicate node reference parsing.\r\n    var nodes = [];\r\n    // Track aria-owns references to prevent duplicate parsing.\r\n    var owns = [];\r\n\r\n    // Recursively process a DOM node to compute an accessible name in accordance with the spec\r\n    var walk = function(\r\n      refNode,\r\n      stop,\r\n      skip,\r\n      nodesToIgnoreValues,\r\n      skipAbort,\r\n      ownedBy\r\n    ) {\r\n      var fullResult = {\r\n        name: \"\",\r\n        title: \"\"\r\n      };\r\n\r\n      /*\r\n  ARIA Role Exception Rule Set 1.1\r\n  The following Role Exception Rule Set is based on the following ARIA Working Group discussion involving all relevant browser venders.\r\n  https://lists.w3.org/Archives/Public/public-aria/2017Jun/0057.html\r\n  */\r\n      var isException = function(node, refNode) {\r\n        if (\r\n          !refNode ||\r\n          !node ||\r\n          refNode.nodeType !== 1 ||\r\n          node.nodeType !== 1\r\n        ) {\r\n          return false;\r\n        }\r\n\r\n        var inList = function(node, list) {\r\n          var role = getRole(node);\r\n          var tag = node.nodeName.toLowerCase();\r\n          return (\r\n            (role && list.roles.indexOf(role) >= 0) ||\r\n            (!role && list.tags.indexOf(tag) >= 0)\r\n          );\r\n        };\r\n\r\n        // The list3 overrides must be checked first.\r\n        if (inList(node, list3)) {\r\n          if (\r\n            node === refNode &&\r\n            !(node.id && ownedBy[node.id] && ownedBy[node.id].node)\r\n          ) {\r\n            return !isFocusable(node);\r\n          } else {\r\n            // Note: the inParent checker needs to be present to allow for embedded roles matching list3 when the referenced parent is referenced using aria-labelledby, aria-describedby, or aria-owns.\r\n            return !(\r\n              (inParent(node, ownedBy.top) &&\r\n                node.nodeName.toLowerCase() !== \"select\") ||\r\n              inList(refNode, list1)\r\n            );\r\n          }\r\n        }\r\n        // Otherwise process list2 to identify roles to ignore processing name from content.\r\n        else if (\r\n          inList(node, list2) ||\r\n          (node === rootNode && !inList(node, list1))\r\n        ) {\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      };\r\n\r\n      var inParent = function(node, parent) {\r\n        var trackNodes = [];\r\n        while (node) {\r\n          if (\r\n            node.id &&\r\n            ownedBy[node.id] &&\r\n            ownedBy[node.id].node &&\r\n            trackNodes.indexOf(node) === -1\r\n          ) {\r\n            trackNodes.push(node);\r\n            node = ownedBy[node.id].node;\r\n          } else {\r\n            node = node.parentNode;\r\n          }\r\n          if (node && node === parent) {\r\n            return true;\r\n          } else if (!node || node === ownedBy.top || node === document.body) {\r\n            return false;\r\n          }\r\n        }\r\n        return false;\r\n      };\r\n\r\n      // Placeholder for storing CSS before and after pseudo element text values for the top level node\r\n      var cssOP = {\r\n        before: \"\",\r\n        after: \"\"\r\n      };\r\n\r\n      if (ownedBy.ref) {\r\n        if (isParentHidden(refNode, document.body, true, true)) {\r\n          // If referenced via aria-labelledby or aria-describedby, do not return a name or description if a parent node is hidden.\r\n          return fullResult;\r\n        } else if (isHidden(refNode, document.body)) {\r\n          // Otherwise, if aria-labelledby or aria-describedby reference a node that is explicitly hidden, then process all children regardless of their individual hidden states.\r\n          var ignoreHidden = true;\r\n        }\r\n      }\r\n\r\n      if (nodes.indexOf(refNode) === -1) {\r\n        // Store the before and after pseudo element 'content' values for the top level DOM node\r\n        // Note: If the pseudo element includes block level styling, a space will be added, otherwise inline is asumed and no spacing is added.\r\n        cssOP = getCSSText(refNode, null);\r\n\r\n        // Enabled in Visual ARIA to prevent self referencing by Visual ARIA tooltips\r\n        if (preventVisualARIASelfCSSRef) {\r\n          if (\r\n            cssOP.before.indexOf(\" [ARIA] \") !== -1 ||\r\n            cssOP.before.indexOf(\" aria-\") !== -1 ||\r\n            cssOP.before.indexOf(\" accName: \") !== -1\r\n          )\r\n            cssOP.before = \"\";\r\n          if (\r\n            cssOP.after.indexOf(\" [ARIA] \") !== -1 ||\r\n            cssOP.after.indexOf(\" aria-\") !== -1 ||\r\n            cssOP.after.indexOf(\" accDescription: \") !== -1\r\n          )\r\n            cssOP.after = \"\";\r\n        }\r\n      }\r\n\r\n      // Recursively apply the same naming computation to all nodes within the referenced structure\r\n      var walkDOM = function(node, fn, refNode) {\r\n        var res = {\r\n          name: \"\",\r\n          title: \"\"\r\n        };\r\n        if (!node) {\r\n          return res;\r\n        }\r\n        var nodeIsBlock =\r\n          node && node.nodeType === 1 && isBlockLevelElement(node)\r\n            ? true\r\n            : false;\r\n        var fResult = fn(node) || {};\r\n        if (fResult.name && fResult.name.length) {\r\n          res.name += fResult.name;\r\n        }\r\n        if (!isException(node, ownedBy.top, ownedBy)) {\r\n          node = node.firstChild;\r\n          while (node) {\r\n            res.name += walkDOM(node, fn, refNode).name;\r\n            node = node.nextSibling;\r\n          }\r\n        }\r\n        res.name += fResult.owns || \"\";\r\n        if (rootNode === refNode && !trim(res.name) && trim(fResult.title)) {\r\n          res.name = addSpacing(fResult.title);\r\n        } else if (rootNode === refNode && trim(fResult.title)) {\r\n          res.title = addSpacing(fResult.title);\r\n        }\r\n        if (rootNode === refNode && trim(fResult.desc)) {\r\n          res.title = addSpacing(fResult.desc);\r\n        }\r\n        if (nodeIsBlock || fResult.isWidget) {\r\n          res.name = addSpacing(res.name);\r\n        }\r\n        return res;\r\n      };\r\n\r\n      fullResult = walkDOM(\r\n        refNode,\r\n        function(node) {\r\n          var i = 0;\r\n          var element = null;\r\n          var ids = [];\r\n          var parts = [];\r\n          var result = {\r\n            name: \"\",\r\n            title: \"\",\r\n            owns: \"\"\r\n          };\r\n          var isEmbeddedNode =\r\n            node &&\r\n            node.nodeType === 1 &&\r\n            nodesToIgnoreValues &&\r\n            nodesToIgnoreValues.length &&\r\n            nodesToIgnoreValues.indexOf(node) !== -1 &&\r\n            node === rootNode &&\r\n            node !== refNode\r\n              ? true\r\n              : false;\r\n\r\n          if (\r\n            (skip ||\r\n              !node ||\r\n              nodes.indexOf(node) !== -1 ||\r\n              (!ignoreHidden && isHidden(node, ownedBy.top))) &&\r\n            !skipAbort &&\r\n            !isEmbeddedNode\r\n          ) {\r\n            // Abort if algorithm step is already completed, or if node is a hidden child of refNode, or if this node has already been processed, or skip abort if aria-labelledby self references same node.\r\n            return result;\r\n          }\r\n\r\n          if (nodes.indexOf(node) === -1) {\r\n            nodes.push(node);\r\n          }\r\n\r\n          // Store name for the current node.\r\n          var name = \"\";\r\n          // Store name from aria-owns references if detected.\r\n          var ariaO = \"\";\r\n          // Placeholder for storing CSS before and after pseudo element text values for the current node container element\r\n          var cssO = {\r\n            before: \"\",\r\n            after: \"\"\r\n          };\r\n\r\n          var parent = refNode === node ? node : node.parentNode;\r\n          if (nodes.indexOf(parent) === -1) {\r\n            nodes.push(parent);\r\n            // Store the before and after pseudo element 'content' values for the current node container element\r\n            // Note: If the pseudo element includes block level styling, a space will be added, otherwise inline is asumed and no spacing is added.\r\n            cssO = getCSSText(parent, refNode);\r\n\r\n            // Enabled in Visual ARIA to prevent self referencing by Visual ARIA tooltips\r\n            if (preventVisualARIASelfCSSRef) {\r\n              if (\r\n                cssO.before.indexOf(\" [ARIA] \") !== -1 ||\r\n                cssO.before.indexOf(\" aria-\") !== -1 ||\r\n                cssO.before.indexOf(\" accName: \") !== -1\r\n              )\r\n                cssO.before = \"\";\r\n              if (\r\n                cssO.after.indexOf(\" [ARIA] \") !== -1 ||\r\n                cssO.after.indexOf(\" aria-\") !== -1 ||\r\n                cssO.after.indexOf(\" accDescription: \") !== -1\r\n              )\r\n                cssO.after = \"\";\r\n            }\r\n          }\r\n\r\n          // Process standard DOM element node\r\n          if (node.nodeType === 1) {\r\n            var aLabelledby = node.getAttribute(\"aria-labelledby\") || \"\";\r\n            var aDescribedby = node.getAttribute(\"aria-describedby\") || \"\";\r\n            var aLabel = node.getAttribute(\"aria-label\") || \"\";\r\n            var nTitle = node.getAttribute(\"title\") || \"\";\r\n            var nTag = node.nodeName.toLowerCase();\r\n            var nRole = getRole(node);\r\n\r\n            var isNativeFormField = nativeFormFields.indexOf(nTag) !== -1;\r\n            var isNativeButton = [\"input\"].indexOf(nTag) !== -1;\r\n            var isRangeWidgetRole = rangeWidgetRoles.indexOf(nRole) !== -1;\r\n            var isEditWidgetRole = editWidgetRoles.indexOf(nRole) !== -1;\r\n            var isSelectWidgetRole = selectWidgetRoles.indexOf(nRole) !== -1;\r\n            var isSimulatedFormField =\r\n              isRangeWidgetRole ||\r\n              isEditWidgetRole ||\r\n              isSelectWidgetRole ||\r\n              nRole === \"combobox\";\r\n            var isWidgetRole =\r\n              (isSimulatedFormField ||\r\n                otherWidgetRoles.indexOf(nRole) !== -1) &&\r\n              nRole !== \"link\";\r\n            result.isWidget = isNativeFormField || isWidgetRole;\r\n\r\n            var hasName = false;\r\n            var aOwns = node.getAttribute(\"aria-owns\") || \"\";\r\n            var isSeparatChildFormField =\r\n              !isEmbeddedNode &&\r\n              ((node !== refNode &&\r\n                (isNativeFormField || isSimulatedFormField)) ||\r\n                (node.id &&\r\n                  ownedBy[node.id] &&\r\n                  ownedBy[node.id].target &&\r\n                  ownedBy[node.id].target === node))\r\n                ? true\r\n                : false;\r\n\r\n            if (!stop && node === refNode) {\r\n              // Check for non-empty value of aria-labelledby if current node equals reference node, follow each ID ref, then stop and process no deeper.\r\n              if (aLabelledby) {\r\n                ids = aLabelledby.split(/\\s+/);\r\n                parts = [];\r\n                for (i = 0; i < ids.length; i++) {\r\n                  element = document.getElementById(ids[i]);\r\n                  // Also prevent the current form field from having its value included in the naming computation if nested as a child of label\r\n                  parts.push(\r\n                    walk(element, true, skip, [node], element === refNode, {\r\n                      ref: ownedBy,\r\n                      top: element\r\n                    }).name\r\n                  );\r\n                }\r\n                // Check for blank value, since whitespace chars alone are not valid as a name\r\n                name = trim(parts.join(\" \"));\r\n\r\n                if (trim(name)) {\r\n                  hasName = true;\r\n                  // Abort further recursion if name is valid.\r\n                  skip = true;\r\n                }\r\n              }\r\n\r\n              // Check for non-empty value of aria-describedby if current node equals reference node, follow each ID ref, then stop and process no deeper.\r\n              if (aDescribedby) {\r\n                var desc = \"\";\r\n                ids = aDescribedby.split(/\\s+/);\r\n                parts = [];\r\n                for (i = 0; i < ids.length; i++) {\r\n                  element = document.getElementById(ids[i]);\r\n                  // Also prevent the current form field from having its value included in the naming computation if nested as a child of label\r\n                  parts.push(\r\n                    walk(element, true, false, [node], false, {\r\n                      ref: ownedBy,\r\n                      top: element\r\n                    }).name\r\n                  );\r\n                }\r\n                // Check for blank value, since whitespace chars alone are not valid as a name\r\n                desc = trim(parts.join(\" \"));\r\n\r\n                if (trim(desc)) {\r\n                  result.desc = desc;\r\n                }\r\n              }\r\n            }\r\n\r\n            // Otherwise, if the current node is a nested widget control within the parent ref obj, then add only its value and process no deeper within the branch.\r\n            if (isSeparatChildFormField) {\r\n              // Prevent the referencing node from having its value included in the case of form control labels that contain the element with focus.\r\n              if (\r\n                !(\r\n                  nodesToIgnoreValues &&\r\n                  nodesToIgnoreValues.length &&\r\n                  nodesToIgnoreValues.indexOf(node) !== -1\r\n                )\r\n              ) {\r\n                if (isRangeWidgetRole) {\r\n                  // For range widgets, append aria-valuetext if non-empty, or aria-valuenow if non-empty, or node.value if applicable.\r\n                  name = getObjectValue(nRole, node, true);\r\n                } else if (\r\n                  isEditWidgetRole ||\r\n                  (nRole === \"combobox\" && isNativeFormField)\r\n                ) {\r\n                  // For simulated edit widgets, append text from content if applicable, or node.value if applicable.\r\n                  name = getObjectValue(nRole, node, false, true);\r\n                } else if (isSelectWidgetRole) {\r\n                  // For simulated select widgets, append same naming computation algorithm for all child nodes including aria-selected=\"true\" separated by a space when multiple.\r\n                  // Also filter nodes so that only valid child roles of relevant parent role that include aria-selected=\"true\" are included.\r\n                  name = getObjectValue(nRole, node, false, false, true);\r\n                } else if (\r\n                  isNativeFormField &&\r\n                  [\"input\", \"textarea\"].indexOf(nTag) !== -1 &&\r\n                  (!isWidgetRole || isEditWidgetRole)\r\n                ) {\r\n                  // For native edit fields, append node.value when applicable.\r\n                  name = getObjectValue(nRole, node, false, false, false, true);\r\n                } else if (\r\n                  isNativeFormField &&\r\n                  nTag === \"select\" &&\r\n                  (!isWidgetRole || nRole === \"combobox\")\r\n                ) {\r\n                  // For native select fields, get text from content for all options with selected attribute separated by a space when multiple, but don't process if another widget role is present unless it matches role=\"combobox\".\r\n                  // Reference: https://github.com/WhatSock/w3c-alternative-text-computation/issues/7\r\n                  name = getObjectValue(nRole, node, false, false, true, true);\r\n                }\r\n\r\n                // Check for blank value, since whitespace chars alone are not valid as a name\r\n                name = trim(name);\r\n              }\r\n\r\n              if (trim(name)) {\r\n                hasName = true;\r\n              }\r\n            }\r\n\r\n            // Otherwise, if current node has a non-empty aria-label then set as name and process no deeper within the branch.\r\n            if (!hasName && trim(aLabel) && !isSeparatChildFormField) {\r\n              name = aLabel;\r\n\r\n              // Check for blank value, since whitespace chars alone are not valid as a name\r\n              if (trim(name)) {\r\n                hasName = true;\r\n                if (node === refNode) {\r\n                  // If name is non-empty and both the current and refObject nodes match, then don't process any deeper within the branch.\r\n                  skip = true;\r\n                }\r\n              }\r\n            }\r\n\r\n            // Otherwise, if name is still empty and the current node matches the ref node and is a standard form field with a non-empty associated label element, process label with same naming computation algorithm.\r\n            if (!hasName && node === refNode && isNativeFormField) {\r\n              // Logic modified to match issue\r\n              // https://github.com/WhatSock/w3c-alternative-text-computation/issues/12 */\r\n              var labels = document.querySelectorAll(\"label\");\r\n              var implicitLabel = getParent(node, \"label\") || false;\r\n              var explicitLabel =\r\n                node.id &&\r\n                document.querySelectorAll('label[for=\"' + node.id + '\"]').length\r\n                  ? document.querySelector('label[for=\"' + node.id + '\"]')\r\n                  : false;\r\n              var implicitI = 0;\r\n              var explicitI = 0;\r\n              for (i = 0; i < labels.length; i++) {\r\n                if (labels[i] === implicitLabel) {\r\n                  implicitI = i;\r\n                } else if (labels[i] === explicitLabel) {\r\n                  explicitI = i;\r\n                }\r\n              }\r\n              var isImplicitFirst =\r\n                implicitLabel &&\r\n                implicitLabel.nodeType === 1 &&\r\n                explicitLabel &&\r\n                explicitLabel.nodeType === 1 &&\r\n                implicitI < explicitI\r\n                  ? true\r\n                  : false;\r\n\r\n              if (explicitLabel) {\r\n                var eLblName = trim(\r\n                  walk(explicitLabel, true, skip, [node], false, {\r\n                    ref: ownedBy,\r\n                    top: explicitLabel\r\n                  }).name\r\n                );\r\n              }\r\n              if (implicitLabel && implicitLabel !== explicitLabel) {\r\n                var iLblName = trim(\r\n                  walk(implicitLabel, true, skip, [node], false, {\r\n                    ref: ownedBy,\r\n                    top: implicitLabel\r\n                  }).name\r\n                );\r\n              }\r\n\r\n              if (iLblName && eLblName && isImplicitFirst) {\r\n                name = iLblName + \" \" + eLblName;\r\n              } else if (eLblName && iLblName) {\r\n                name = eLblName + \" \" + iLblName;\r\n              } else if (eLblName) {\r\n                name = eLblName;\r\n              } else if (iLblName) {\r\n                name = iLblName;\r\n              }\r\n\r\n              if (trim(name)) {\r\n                hasName = true;\r\n              }\r\n            }\r\n\r\n            // Process native form field buttons in accordance with the HTML AAM\r\n            // https://w3c.github.io/html-aam/#accessible-name-and-description-computation\r\n            var btnType =\r\n              (isNativeButton && node.getAttribute(\"type\")) || false;\r\n            var btnValue =\r\n              (btnType && trim(node.getAttribute(\"value\"))) || false;\r\n\r\n            var rolePresentation =\r\n              !hasName &&\r\n              nRole &&\r\n              presentationRoles.indexOf(nRole) !== -1 &&\r\n              !isFocusable(node) &&\r\n              !hasGlobalAttr(node)\r\n                ? true\r\n                : false;\r\n            var nAlt = rolePresentation ? \"\" : trim(node.getAttribute(\"alt\"));\r\n\r\n            // Otherwise, if name is still empty and current node is a standard non-presentational img or image button with a non-empty alt attribute, set alt attribute value as the accessible name.\r\n            if (\r\n              !hasName &&\r\n              !rolePresentation &&\r\n              (nTag === \"img\" || btnType === \"image\") &&\r\n              nAlt\r\n            ) {\r\n              // Check for blank value, since whitespace chars alone are not valid as a name\r\n              name = trim(nAlt);\r\n              if (trim(name)) {\r\n                hasName = true;\r\n              }\r\n            }\r\n\r\n            if (\r\n              !hasName &&\r\n              node === refNode &&\r\n              btnType &&\r\n              [\"button\", \"image\", \"submit\", \"reset\"].indexOf(btnType) !== -1\r\n            ) {\r\n              if (btnValue) {\r\n                name = btnValue;\r\n              } else {\r\n                switch (btnType) {\r\n                  case \"submit\":\r\n                  case \"image\":\r\n                    name = \"Submit Query\";\r\n                    break;\r\n                  case \"reset\":\r\n                    name = \"Reset\";\r\n                    break;\r\n                  default:\r\n                    name = \"\";\r\n                }\r\n              }\r\n              if (trim(name)) {\r\n                hasName = true;\r\n              }\r\n            }\r\n\r\n            if (\r\n              hasName &&\r\n              node === refNode &&\r\n              btnType &&\r\n              [\"button\", \"submit\", \"reset\"].indexOf(btnType) !== -1 &&\r\n              btnValue &&\r\n              btnValue !== name &&\r\n              !result.desc\r\n            ) {\r\n              result.desc = btnValue;\r\n            }\r\n\r\n            // Otherwise, if current node is the same as rootNode and is non-presentational and includes a non-empty title attribute and is not a separate embedded form field, store title attribute value as the accessible name if name is still empty, or the description if not.\r\n            if (\r\n              node === rootNode &&\r\n              !rolePresentation &&\r\n              trim(nTitle) &&\r\n              !isSeparatChildFormField\r\n            ) {\r\n              result.title = trim(nTitle);\r\n            }\r\n\r\n            // Check for non-empty value of aria-owns, follow each ID ref, then process with same naming computation.\r\n            // Also abort aria-owns processing if contained on an element that does not support child elements.\r\n            if (aOwns && !isNativeFormField && nTag !== \"img\") {\r\n              ids = aOwns.split(/\\s+/);\r\n              parts = [];\r\n              for (i = 0; i < ids.length; i++) {\r\n                element = document.getElementById(ids[i]);\r\n                // Abort processing if the referenced node has already been traversed\r\n                if (element && owns.indexOf(ids[i]) === -1) {\r\n                  owns.push(ids[i]);\r\n                  var oBy = { ref: ownedBy, top: ownedBy.top };\r\n                  oBy[ids[i]] = {\r\n                    refNode: refNode,\r\n                    node: node,\r\n                    target: element\r\n                  };\r\n                  if (!isParentHidden(element, document.body, true)) {\r\n                    parts.push(walk(element, true, skip, [], false, oBy).name);\r\n                  }\r\n                }\r\n              }\r\n              // Join without adding whitespace since this is already handled by parsing individual nodes within the algorithm steps.\r\n              ariaO = parts.join(\"\");\r\n            }\r\n          }\r\n\r\n          // Otherwise, process text node\r\n          else if (node.nodeType === 3) {\r\n            name = node.data;\r\n          }\r\n\r\n          // Prepend and append the current CSS pseudo element text, plus normalize all whitespace such as newline characters and others into flat spaces.\r\n          name = cssO.before + name.replace(/\\s+/g, \" \") + cssO.after;\r\n\r\n          if (\r\n            name.length &&\r\n            !hasParentLabelOrHidden(node, ownedBy.top, ownedBy, ignoreHidden)\r\n          ) {\r\n            result.name = name;\r\n          }\r\n\r\n          result.owns = ariaO;\r\n\r\n          return result;\r\n        },\r\n        refNode\r\n      );\r\n\r\n      // Prepend and append the refObj CSS pseudo element text, plus normalize whitespace chars into flat spaces.\r\n      fullResult.name =\r\n        cssOP.before + fullResult.name.replace(/\\s+/g, \" \") + cssOP.after;\r\n\r\n      return fullResult;\r\n    };\r\n\r\n    var getRole = function(node) {\r\n      var role = node && node.getAttribute ? node.getAttribute(\"role\") : \"\";\r\n      if (!trim(role)) {\r\n        return \"\";\r\n      }\r\n      var inList = function(list) {\r\n        return trim(role).length > 0 && list.roles.indexOf(role) >= 0;\r\n      };\r\n      var roles = role.split(/\\s+/);\r\n      for (var i = 0; i < roles.length; i++) {\r\n        role = roles[i];\r\n        if (\r\n          inList(list1) ||\r\n          inList(list2) ||\r\n          inList(list3) ||\r\n          presentationRoles.indexOf(role) !== -1\r\n        ) {\r\n          return role;\r\n        }\r\n      }\r\n      return \"\";\r\n    };\r\n\r\n    var isFocusable = function(node) {\r\n      var nodeName = node.nodeName.toLowerCase();\r\n      if (node.getAttribute(\"tabindex\")) {\r\n        return true;\r\n      }\r\n      if (nodeName === \"a\" && node.getAttribute(\"href\")) {\r\n        return true;\r\n      }\r\n      if (\r\n        [\"button\", \"input\", \"select\", \"textarea\"].indexOf(nodeName) !== -1 &&\r\n        node.getAttribute(\"type\") !== \"hidden\"\r\n      ) {\r\n        return true;\r\n      }\r\n      return false;\r\n    };\r\n\r\n    // ARIA Role Exception Rule Set 1.1\r\n    // The following Role Exception Rule Set is based on the following ARIA Working Group discussion involving all relevant browser venders.\r\n    // https://lists.w3.org/Archives/Public/public-aria/2017Jun/0057.html\r\n\r\n    // Always include name from content when the referenced node matches list1, as well as when child nodes match those within list3\r\n    // Note: gridcell was added to list1 to account for focusable gridcells that match the ARIA 1.0 paradigm for interactive grids.\r\n    // So too was row to match 'name from author' and 'name from content' in accordance with the spec.\r\n    var list1 = {\r\n      roles: [\r\n        \"button\",\r\n        \"checkbox\",\r\n        \"link\",\r\n        \"option\",\r\n        \"radio\",\r\n        \"switch\",\r\n        \"tab\",\r\n        \"treeitem\",\r\n        \"menuitem\",\r\n        \"menuitemcheckbox\",\r\n        \"menuitemradio\",\r\n        \"row\",\r\n        \"cell\",\r\n        \"gridcell\",\r\n        \"columnheader\",\r\n        \"rowheader\",\r\n        \"tooltip\",\r\n        \"heading\"\r\n      ],\r\n      tags: [\r\n        \"a\",\r\n        \"button\",\r\n        \"summary\",\r\n        \"input\",\r\n        \"h1\",\r\n        \"h2\",\r\n        \"h3\",\r\n        \"h4\",\r\n        \"h5\",\r\n        \"h6\",\r\n        \"menuitem\",\r\n        \"option\",\r\n        \"tr\",\r\n        \"td\",\r\n        \"th\"\r\n      ]\r\n    };\r\n    // Never include name from content when current node matches list2\r\n    // The rowgroup role was added to prevent 'name from content' in accordance with relevant ARIA 1.1 spec changes.\r\n    var list2 = {\r\n      roles: [\r\n        \"application\",\r\n        \"alert\",\r\n        \"log\",\r\n        \"marquee\",\r\n        \"timer\",\r\n        \"alertdialog\",\r\n        \"dialog\",\r\n        \"banner\",\r\n        \"complementary\",\r\n        \"form\",\r\n        \"main\",\r\n        \"navigation\",\r\n        \"region\",\r\n        \"search\",\r\n        \"article\",\r\n        \"document\",\r\n        \"feed\",\r\n        \"figure\",\r\n        \"img\",\r\n        \"math\",\r\n        \"toolbar\",\r\n        \"menu\",\r\n        \"menubar\",\r\n        \"grid\",\r\n        \"listbox\",\r\n        \"radiogroup\",\r\n        \"textbox\",\r\n        \"searchbox\",\r\n        \"spinbutton\",\r\n        \"scrollbar\",\r\n        \"slider\",\r\n        \"tablist\",\r\n        \"tabpanel\",\r\n        \"tree\",\r\n        \"treegrid\",\r\n        \"separator\",\r\n        \"rowgroup\"\r\n      ],\r\n      tags: [\r\n        \"article\",\r\n        \"aside\",\r\n        \"body\",\r\n        \"select\",\r\n        \"datalist\",\r\n        \"optgroup\",\r\n        \"dialog\",\r\n        \"figure\",\r\n        \"footer\",\r\n        \"form\",\r\n        \"header\",\r\n        \"hr\",\r\n        \"img\",\r\n        \"textarea\",\r\n        \"input\",\r\n        \"main\",\r\n        \"math\",\r\n        \"menu\",\r\n        \"nav\",\r\n        \"section\",\r\n        \"thead\",\r\n        \"tbody\",\r\n        \"tfoot\"\r\n      ]\r\n    };\r\n    // As an override of list2, conditionally include name from content if current node is focusable, or if the current node matches list3 while the referenced parent node (root node) matches list1.\r\n    var list3 = {\r\n      roles: [\r\n        \"term\",\r\n        \"definition\",\r\n        \"directory\",\r\n        \"list\",\r\n        \"group\",\r\n        \"note\",\r\n        \"status\",\r\n        \"table\",\r\n        \"contentinfo\"\r\n      ],\r\n      tags: [\"dl\", \"ul\", \"ol\", \"dd\", \"details\", \"output\", \"table\"]\r\n    };\r\n\r\n    var nativeFormFields = [\"button\", \"input\", \"select\", \"textarea\"];\r\n    var rangeWidgetRoles = [\"scrollbar\", \"slider\", \"spinbutton\"];\r\n    var editWidgetRoles = [\"searchbox\", \"textbox\"];\r\n    var selectWidgetRoles = [\"grid\", \"listbox\", \"tablist\", \"tree\", \"treegrid\"];\r\n    var otherWidgetRoles = [\r\n      \"button\",\r\n      \"checkbox\",\r\n      \"link\",\r\n      \"switch\",\r\n      \"option\",\r\n      \"menu\",\r\n      \"menubar\",\r\n      \"menuitem\",\r\n      \"menuitemcheckbox\",\r\n      \"menuitemradio\",\r\n      \"radio\",\r\n      \"tab\",\r\n      \"treeitem\",\r\n      \"gridcell\"\r\n    ];\r\n    var presentationRoles = [\"presentation\", \"none\"];\r\n\r\n    var hasGlobalAttr = function(node) {\r\n      var globalPropsAndStates = [\r\n        \"busy\",\r\n        \"controls\",\r\n        \"current\",\r\n        \"describedby\",\r\n        \"details\",\r\n        \"disabled\",\r\n        \"dropeffect\",\r\n        \"errormessage\",\r\n        \"flowto\",\r\n        \"grabbed\",\r\n        \"haspopup\",\r\n        \"invalid\",\r\n        \"keyshortcuts\",\r\n        \"live\",\r\n        \"owns\",\r\n        \"roledescription\"\r\n      ];\r\n      for (var i = 0; i < globalPropsAndStates.length; i++) {\r\n        var a = trim(node.getAttribute(\"aria-\" + globalPropsAndStates[i]));\r\n        if (a) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    };\r\n\r\n    var isHidden = function(node, refNode) {\r\n      var hidden = function(node) {\r\n        if (!node || node.nodeType !== 1 || node === refNode) {\r\n          return false;\r\n        }\r\n        if (node.getAttribute(\"aria-hidden\") === \"true\") {\r\n          return true;\r\n        }\r\n        if (node.getAttribute(\"hidden\")) {\r\n          return true;\r\n        }\r\n        var style = getStyleObject(node);\r\n        if (style[\"display\"] === \"none\" || style[\"visibility\"] === \"hidden\") {\r\n          return true;\r\n        }\r\n        return false;\r\n      };\r\n      return hidden(node);\r\n    };\r\n\r\n    var isParentHidden = function(node, refNode, skipOwned, skipCurrent) {\r\n      while (node && node !== refNode) {\r\n        if (!skipCurrent && node.nodeType === 1 && isHidden(node, refNode)) {\r\n          return true;\r\n        } else skipCurrent = false;\r\n        node = node.parentNode;\r\n      }\r\n      return false;\r\n    };\r\n\r\n    var getStyleObject = function(node) {\r\n      var style = {};\r\n      if (document.defaultView && document.defaultView.getComputedStyle) {\r\n        style = document.defaultView.getComputedStyle(node, \"\");\r\n      } else if (node.currentStyle) {\r\n        style = node.currentStyle;\r\n      }\r\n      return style;\r\n    };\r\n\r\n    var cleanCSSText = function(node, text) {\r\n      var s = text;\r\n      if (s.indexOf(\"attr(\") !== -1) {\r\n        var m = s.match(/attr\\((.|\\n|\\r\\n)*?\\)/g);\r\n        for (var i = 0; i < m.length; i++) {\r\n          var b = m[i].slice(5, -1);\r\n          b = node.getAttribute(b) || \"\";\r\n          s = s.replace(m[i], b);\r\n        }\r\n      }\r\n      return s || text;\r\n    };\r\n\r\n    var isBlockLevelElement = function(node, cssObj) {\r\n      var styleObject = cssObj || getStyleObject(node);\r\n      for (var prop in blockStyles) {\r\n        var values = blockStyles[prop];\r\n        for (var i = 0; i < values.length; i++) {\r\n          if (\r\n            styleObject[prop] &&\r\n            ((values[i].indexOf(\"!\") === 0 &&\r\n              [values[i].slice(1), \"inherit\", \"initial\", \"unset\"].indexOf(\r\n                styleObject[prop]\r\n              ) === -1) ||\r\n              styleObject[prop].indexOf(values[i]) === 0)\r\n          ) {\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n      if (\r\n        !cssObj &&\r\n        node.nodeName &&\r\n        blockElements.indexOf(node.nodeName.toLowerCase()) !== -1 &&\r\n        !(\r\n          styleObject[\"display\"] &&\r\n          styleObject[\"display\"].indexOf(\"inline\") === 0 &&\r\n          node.nodeName.toLowerCase() !== \"br\"\r\n        )\r\n      ) {\r\n        return true;\r\n      }\r\n      return false;\r\n    };\r\n\r\n    // CSS Block Styles indexed from:\r\n    // https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Block_formatting_context\r\n    var blockStyles = {\r\n      display: [\"block\", \"grid\", \"table\", \"flow-root\", \"flex\"],\r\n      position: [\"absolute\", \"fixed\"],\r\n      float: [\"left\", \"right\", \"inline\"],\r\n      clear: [\"left\", \"right\", \"both\", \"inline\"],\r\n      overflow: [\"hidden\", \"scroll\", \"auto\"],\r\n      \"column-count\": [\"!auto\"],\r\n      \"column-width\": [\"!auto\"],\r\n      \"column-span\": [\"all\"],\r\n      contain: [\"layout\", \"content\", \"strict\"]\r\n    };\r\n\r\n    // HTML5 Block Elements indexed from:\r\n    // https://github.com/webmodules/block-elements\r\n    // Note: 'br' was added to this array because it impacts visual display and should thus add a space .\r\n    // Reference issue: https://github.com/w3c/accname/issues/4\r\n    // Note: Added in 1.13, td, th, tr, and legend\r\n    var blockElements = [\r\n      \"address\",\r\n      \"article\",\r\n      \"aside\",\r\n      \"blockquote\",\r\n      \"br\",\r\n      \"canvas\",\r\n      \"dd\",\r\n      \"div\",\r\n      \"dl\",\r\n      \"dt\",\r\n      \"fieldset\",\r\n      \"figcaption\",\r\n      \"figure\",\r\n      \"footer\",\r\n      \"form\",\r\n      \"h1\",\r\n      \"h2\",\r\n      \"h3\",\r\n      \"h4\",\r\n      \"h5\",\r\n      \"h6\",\r\n      \"header\",\r\n      \"hgroup\",\r\n      \"hr\",\r\n      \"legend\",\r\n      \"li\",\r\n      \"main\",\r\n      \"nav\",\r\n      \"noscript\",\r\n      \"ol\",\r\n      \"output\",\r\n      \"p\",\r\n      \"pre\",\r\n      \"section\",\r\n      \"table\",\r\n      \"td\",\r\n      \"tfoot\",\r\n      \"th\",\r\n      \"tr\",\r\n      \"ul\",\r\n      \"video\"\r\n    ];\r\n\r\n    var getObjectValue = function(\r\n      role,\r\n      node,\r\n      isRange,\r\n      isEdit,\r\n      isSelect,\r\n      isNative\r\n    ) {\r\n      var val = \"\";\r\n      var bypass = false;\r\n\r\n      if (isRange && !isNative) {\r\n        val =\r\n          node.getAttribute(\"aria-valuetext\") ||\r\n          node.getAttribute(\"aria-valuenow\") ||\r\n          \"\";\r\n      } else if (isEdit && !isNative) {\r\n        val = getText(node) || \"\";\r\n      } else if (isSelect && !isNative) {\r\n        var childRoles = [];\r\n        if (role === \"grid\" || role === \"treegrid\") {\r\n          childRoles = [\"gridcell\", \"rowheader\", \"columnheader\"];\r\n        } else if (role === \"listbox\") {\r\n          childRoles = [\"option\"];\r\n        } else if (role === \"tablist\") {\r\n          childRoles = [\"tab\"];\r\n        } else if (role === \"tree\") {\r\n          childRoles = [\"treeitem\"];\r\n        }\r\n        val = joinSelectedParts(\r\n          node,\r\n          node.querySelectorAll('*[aria-selected=\"true\"]'),\r\n          false,\r\n          childRoles\r\n        );\r\n        bypass = true;\r\n      }\r\n      val = trim(val);\r\n      if (!val && (isRange || isEdit) && node.value) {\r\n        val = node.value;\r\n      }\r\n      if (!bypass && !val && isNative) {\r\n        if (isSelect) {\r\n          val = joinSelectedParts(\r\n            node,\r\n            node.querySelectorAll(\"option[selected]\"),\r\n            true\r\n          );\r\n        } else {\r\n          val = node.value;\r\n        }\r\n      }\r\n\r\n      return val;\r\n    };\r\n\r\n    var addSpacing = function(s) {\r\n      return trim(s).length ? \" \" + s + \" \" : \" \";\r\n    };\r\n\r\n    var joinSelectedParts = function(node, nOA, isNative, childRoles) {\r\n      if (!nOA || !nOA.length) {\r\n        return \"\";\r\n      }\r\n      var parts = [];\r\n      for (var i = 0; i < nOA.length; i++) {\r\n        var role = getRole(nOA[i]);\r\n        var isValidChildRole = !childRoles || childRoles.indexOf(role) !== -1;\r\n        if (isValidChildRole) {\r\n          parts.push(\r\n            isNative\r\n              ? getText(nOA[i])\r\n              : walk(nOA[i], true, false, [], false, { top: nOA[i] }).name\r\n          );\r\n        }\r\n      }\r\n      return parts.join(\" \");\r\n    };\r\n\r\n    var getPseudoElStyleObj = function(node, position) {\r\n      var styleObj = {};\r\n      for (var prop in blockStyles) {\r\n        styleObj[prop] = document.defaultView\r\n          .getComputedStyle(node, position)\r\n          .getPropertyValue(prop);\r\n      }\r\n      styleObj[\"content\"] = document.defaultView\r\n        .getComputedStyle(node, position)\r\n        .getPropertyValue(\"content\")\r\n        .replace(/^\"|\\\\|\"$/g, \"\");\r\n      return styleObj;\r\n    };\r\n\r\n    var getText = function(node, position) {\r\n      if (!position && node.nodeType === 1) {\r\n        return node.innerText || node.textContent || \"\";\r\n      }\r\n      var styles = getPseudoElStyleObj(node, position);\r\n      var text = styles[\"content\"];\r\n      if (!text || text === \"none\") {\r\n        return \"\";\r\n      }\r\n      if (isBlockLevelElement({}, styles)) {\r\n        if (position === \":before\") {\r\n          text += \" \";\r\n        } else if (position === \":after\") {\r\n          text = \" \" + text;\r\n        }\r\n      }\r\n      return text;\r\n    };\r\n\r\n    var getCSSText = function(node, refNode) {\r\n      if (\r\n        (node && node.nodeType !== 1) ||\r\n        node === refNode ||\r\n        [\"input\", \"select\", \"textarea\", \"img\", \"iframe\"].indexOf(\r\n          node.nodeName.toLowerCase()\r\n        ) !== -1\r\n      ) {\r\n        return { before: \"\", after: \"\" };\r\n      }\r\n      if (document.defaultView && document.defaultView.getComputedStyle) {\r\n        return {\r\n          before: cleanCSSText(node, getText(node, \":before\")),\r\n          after: cleanCSSText(node, getText(node, \":after\"))\r\n        };\r\n      } else {\r\n        return { before: \"\", after: \"\" };\r\n      }\r\n    };\r\n\r\n    var getParent = function(node, nTag) {\r\n      while (node) {\r\n        node = node.parentNode;\r\n        if (node && node.nodeName && node.nodeName.toLowerCase() === nTag) {\r\n          return node;\r\n        }\r\n      }\r\n      return {};\r\n    };\r\n\r\n    var hasParentLabelOrHidden = function(\r\n      node,\r\n      refNode,\r\n      ownedBy,\r\n      ignoreHidden\r\n    ) {\r\n      var trackNodes = [];\r\n      while (node && node !== refNode) {\r\n        if (\r\n          node.id &&\r\n          ownedBy &&\r\n          ownedBy[node.id] &&\r\n          ownedBy[node.id].node &&\r\n          trackNodes.indexOf(node) === -1\r\n        ) {\r\n          trackNodes.push(node);\r\n          node = ownedBy[node.id].node;\r\n        } else {\r\n          node = node.parentNode;\r\n        }\r\n        if (node && node.getAttribute) {\r\n          if (\r\n            trim(node.getAttribute(\"aria-label\")) ||\r\n            (!ignoreHidden && isHidden(node, refNode))\r\n          ) {\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n      return false;\r\n    };\r\n\r\n    var trim = function(str) {\r\n      if (typeof str !== \"string\") {\r\n        return \"\";\r\n      }\r\n      return str.replace(/^\\s+|\\s+$/g, \"\");\r\n    };\r\n\r\n    if (isParentHidden(node, document.body, true)) {\r\n      return props;\r\n    }\r\n\r\n    // Compute accessible Name and Description properties value for node\r\n    var accProps = walk(node, false, false, [], false, { top: node });\r\n\r\n    var accName = trim(accProps.name.replace(/\\s+/g, \" \"));\r\n    var accDesc = trim(accProps.title.replace(/\\s+/g, \" \"));\r\n\r\n    if (accName === accDesc) {\r\n      // If both Name and Description properties match, then clear the Description property value.\r\n      accDesc = \"\";\r\n    }\r\n\r\n    props.name = accName;\r\n    props.desc = accDesc;\r\n\r\n    // Clear track variables\r\n    nodes = [];\r\n    owns = [];\r\n  } catch (e) {\r\n    props.error = e;\r\n  }\r\n\r\n  if (fnc && typeof fnc === \"function\") {\r\n    return fnc.apply(node, [props, node]);\r\n  } else {\r\n    return props;\r\n  }\r\n};\r\n\r\n// Customize returned string for testable statements\r\n\r\nwindow.getAccNameMsg = window.getNames = function(node) {\r\n  var props = window.calcNames(node);\r\n  if (props.error) {\r\n    return (\r\n      props.error +\r\n      \"\\n\\n\" +\r\n      \"An error has been thrown in AccName Prototype version \" +\r\n      window.getAccNameVersion +\r\n      \". Please copy this error message and the HTML markup that caused it, and submit both as a new GitHub issue at\\n\" +\r\n      \"https://github.com/whatsock/w3c-alternative-text-computation\"\r\n    );\r\n  } else {\r\n    return (\r\n      'accName: \"' +\r\n      props.name +\r\n      '\"\\n\\naccDesc: \"' +\r\n      props.desc +\r\n      '\"\\n\\n(Running AccName Computation Prototype version: ' +\r\n      window.getAccNameVersion +\r\n      \")\"\r\n    );\r\n  }\r\n};\r\n\r\nif (typeof module === \"object\" && module.exports) {\r\n  module.exports = {\r\n    getNames: window.getNames,\r\n    calcNames: window.calcNames\r\n  };\r\n}\r\n"],"file":"recursion.js"}