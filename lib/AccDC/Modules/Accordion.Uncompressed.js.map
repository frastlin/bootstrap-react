{"version":3,"sources":["../../../src/AccDC/Modules/Accordion.Uncompressed.js"],"names":["$A","loadAccAccordionModule","extend","setAccordion","selector","overrides","context","callback","config","document","group","query","i","o","insertId","getAttr","ovrs","id","role","autoStart","trigger","root","getEl","append","exposeBounds","on","activateaccordion","ev","dc","open","click","stopPropagation","preventDefault","keydown","k","which","keyCode","allowCascade","widgetType","runDuring","triggerObj","genId","setAttr","outerNodeId","runAfter","apply","loaded","runAfterClose","remAttr","namedRegion","regions","React","name","component","parent","ReactParent","push","isFocusable","tabindex","allowMultiple","isToggle","isTab"],"mappings":"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","sourcesContent":["/*!\r\nAccessible Accordion Module 3.0 - Minimum requirement: AccDC4X V. 4.2018.0\r\nCopyright 2010-2018 Bryan Garaventa (WhatSock.com)\r\nPart of AccDC, a Cross-Browser JavaScript accessibility API, distributed under the terms of the Open Source Initiative OSI - MIT License\r\n*/\r\n\r\nimport $A from \"../Core/API\";\r\n\r\nexport function loadAccAccordionModule() {\r\n  if (!(\"setAccordion\" in $A))\r\n    $A.extend({\r\n      setAccordion: function(selector, overrides, context, callback, config) {\r\n        var context = context || document,\r\n          overrides = overrides || {},\r\n          config = config || {},\r\n          group = [];\r\n\r\n        $A.query(selector, context, function(i, o) {\r\n          var insertId = $A.getAttr(o, \"data-insert\");\r\n\r\n          var ovrs = {\r\n              id: o.id,\r\n              role: \"Accordion\",\r\n              autoStart: $A.getAttr(o, \"data-defaultopen\") === \"true\",\r\n              trigger: o,\r\n              root: $A(context).getEl(insertId),\r\n              append: true,\r\n              exposeBounds: true,\r\n              on: {\r\n                activateaccordion: function(ev, dc) {\r\n                  dc.open();\r\n                },\r\n                click: function(ev, dc) {\r\n                  $A.trigger(this, \"activateaccordion\");\r\n                  ev.stopPropagation();\r\n                  ev.preventDefault();\r\n                },\r\n                keydown: function(ev, dc) {\r\n                  var k = ev.which || ev.keyCode;\r\n                  if (k === 13 || k === 32) {\r\n                    $A.trigger(this, \"activateaccordion\");\r\n                    ev.stopPropagation();\r\n                    ev.preventDefault();\r\n                  }\r\n                }\r\n              },\r\n              allowCascade: true,\r\n              widgetType: \"AccDCAccordion\",\r\n\r\n              runDuring: function(dc) {\r\n                if (!dc.triggerObj.id) dc.triggerObj.id = $A.genId();\r\n                dc.setAttr(\"aria-labelledby\", dc.triggerObj.id);\r\n                $A.setAttr(dc.triggerObj, \"aria-controls\", dc.outerNodeId);\r\n              },\r\n\r\n              runAfter: function(dc) {\r\n                $A.setAttr(dc.triggerObj, {\r\n                  \"aria-expanded\": \"true\"\r\n                });\r\n\r\n                if (callback && typeof callback === \"function\")\r\n                  callback.apply(dc.triggerObj, [dc, dc.loaded]);\r\n              },\r\n\r\n              runAfterClose: function(dc) {\r\n                $A.setAttr(dc.triggerObj, {\r\n                  \"aria-expanded\": \"false\"\r\n                });\r\n                $A.remAttr(dc.triggerObj, \"aria-controls\");\r\n\r\n                if (callback && typeof callback === \"function\")\r\n                  callback.apply(dc.triggerObj, [dc, dc.loaded]);\r\n              },\r\n\r\n              click: function(ev, dc) {}\r\n            },\r\n            namedRegion = $A.getAttr(o, \"data-controls\");\r\n\r\n          if (\r\n            namedRegion &&\r\n            overrides.regions &&\r\n            overrides.regions[namedRegion]\r\n          ) {\r\n            ovrs.React = {\r\n              name: namedRegion,\r\n              component: overrides.regions[namedRegion],\r\n              parent: overrides.ReactParent\r\n            };\r\n          }\r\n\r\n          $A.extend(ovrs, overrides);\r\n          group.push(ovrs);\r\n\r\n          $A.setAttr(o, {\r\n            \"aria-expanded\": \"false\"\r\n          });\r\n\r\n          if (!$A.isFocusable(o))\r\n            $A.setAttr(o, {\r\n              tabindex: \"0\"\r\n            });\r\n        });\r\n\r\n        if (config.allowMultiple) {\r\n          config.isToggle = true;\r\n        } else if (!config.allowMultiple && !config.isToggle) {\r\n          config.isTab = true;\r\n        }\r\n\r\n        $A(group, config);\r\n      }\r\n    });\r\n}\r\n\r\nexport default loadAccAccordionModule();\r\n"],"file":"Accordion.Uncompressed.js"}