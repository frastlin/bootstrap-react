{"version":3,"sources":["../../../src/AccDC/Modules/Popup.Uncompressed.js"],"names":["$A","loadAccPopupModule","extend","setPopup","overrides","id","genId","config","role","allowCascade","widgetType","autoCloseSameWidget","forceFocus","returnFocus","exposeBounds","isToggle","exposeHiddenClose","displayHiddenClose","tabOut","ev","dc","isTouch","autoCloseOnTabOut","close","runAfter","setAttr","triggerObj","outerNodeId","runBeforeClose","runBeforeDestroy","off","keyDown","k","which","keyCode","stopPropagation","preventDefault","click","onCreated","trigger"],"mappings":"AAAA;;;;;AAMA,OAAOA,EAAP,MAAe,aAAf;AAEA,OAAO,SAASC,kBAAT,GAA8B;AACnC,MAAI,EAAE,cAAcD,EAAhB,CAAJ,EACEA,EAAE,CAACE,MAAH,CAAU;AACRC,IAAAA,QAAQ,EAAE,UAASC,SAAT,EAAoB;AAC5BA,MAAAA,SAAS,CAACA,SAAV,GAAsBA,SAAS,CAACA,SAAV,IAAuB,EAA7C;AACA,UAAIC,EAAE,GAAGD,SAAS,CAACA,SAAV,CAAoBC,EAApB,IAA0BD,SAAS,CAACC,EAApC,IAA0CL,EAAE,CAACM,KAAH,EAAnD;AAEA,UAAIC,MAAM,GAAG;AACXF,QAAAA,EAAE,EAAEA,EADO;AAEXG,QAAAA,IAAI,EAAE,OAFK;AAGXC,QAAAA,YAAY,EAAE,IAHH;AAIXC,QAAAA,UAAU,EAAE,YAJD;AAKXC,QAAAA,mBAAmB,EAAE,IALV;AAMXC,QAAAA,UAAU,EAAE,IAND;AAOXC,QAAAA,WAAW,EAAE,IAPF;AAQXC,QAAAA,YAAY,EAAE,IARH;AASXC,QAAAA,QAAQ,EAAE,IATC;AAUXC,QAAAA,iBAAiB,EAAE,IAVR;AAWXC,QAAAA,kBAAkB,EAAE,IAXT;AAYXC,QAAAA,MAAM,EAAE,UAASC,EAAT,EAAaC,EAAb,EAAiB;AACvB,cAAI,CAACpB,EAAE,CAACqB,OAAH,EAAD,IAAiBD,EAAE,CAACE,iBAAxB,EAA2C;AACzCF,YAAAA,EAAE,CAACG,KAAH;AACD;;AACD,iBAAO,IAAP;AACD,SAjBU;AAkBXC,QAAAA,QAAQ,EAAE,UAASJ,EAAT,EAAa;AACrBpB,UAAAA,EAAE,CAACyB,OAAH,CAAWL,EAAE,CAACM,UAAd,EAA0B;AACxB,6BAAiB,MADO;AAExB,6BAAiBN,EAAE,CAACO;AAFI,WAA1B;AAID,SAvBU;AAwBXC,QAAAA,cAAc,EAAE,UAASR,EAAT,EAAa;AAC3BpB,UAAAA,EAAE,CAACyB,OAAH,CAAWL,EAAE,CAACM,UAAd,EAA0B;AACxB,6BAAiB,OADO;AAExB,6BAAiB;AAFO,WAA1B;AAID,SA7BU;AA8BXG,QAAAA,gBAAgB,EAAE,UAAST,EAAT,EAAa;AAC7BpB,UAAAA,EAAE,CAAC8B,GAAH,CAAO,MAAP,EAAe,aAAf;AACD,SAhCU;AAiCXC,QAAAA,OAAO,EAAE,UAASZ,EAAT,EAAaC,EAAb,EAAiB;AACxB,cAAIY,CAAC,GAAGb,EAAE,CAACc,KAAH,IAAYd,EAAE,CAACe,OAAvB,CADwB,CAGxB;;AACA,cAAIF,CAAC,KAAK,EAAV,EAAc;AACZZ,YAAAA,EAAE,CAACG,KAAH;AACAJ,YAAAA,EAAE,CAACgB,eAAH;AACAhB,YAAAA,EAAE,CAACiB,cAAH;AACD;AACF,SA1CU;AA2CXC,QAAAA,KAAK,EAAE,UAASlB,EAAT,EAAaC,EAAb,EAAiB,CAAE,CA3Cf;AA4CXkB,QAAAA,SAAS,EAAE,UAASlB,EAAT,EAAa;AACtB,cAAIA,EAAE,CAACmB,OAAP,EAAgB;AACdvC,YAAAA,EAAE,CAACyB,OAAH,CAAWL,EAAE,CAACmB,OAAd,EAAuB,eAAvB,EAAwC,OAAxC;AACD;;AACDlC,UAAAA,EAAE,GAAGe,EAAE,CAACf,EAAR;AACD;AAjDU,OAAb;AAoDAL,MAAAA,EAAE,CAACE,MAAH,CAAUK,MAAV,EAAkBH,SAAlB;AAEAJ,MAAAA,EAAE,CAAC,CAACO,MAAD,CAAD,EAAWH,SAAS,CAACA,SAAV,IAAuB,EAAlC,CAAF,CA1D4B,CA4D5B;;AACA,aAAOC,EAAP;AACD;AA/DO,GAAV;AAiEH;AAED,eAAeJ,kBAAkB,EAAjC","sourcesContent":["/*!\r\nAccessible Popup Module 2.0 - Minimum requirement: AccDC4X V. 4.2018.0\r\nCopyright 2010-2018 Bryan Garaventa (WhatSock.com)\r\nPart of AccDC, a Cross-Browser JavaScript accessibility API, distributed under the terms of the Open Source Initiative OSI - MIT License\r\n*/\r\n\r\nimport $A from \"../Core/API\";\r\n\r\nexport function loadAccPopupModule() {\r\n  if (!(\"setPopup\" in $A))\r\n    $A.extend({\r\n      setPopup: function(overrides) {\r\n        overrides.overrides = overrides.overrides || {};\r\n        var id = overrides.overrides.id || overrides.id || $A.genId();\r\n\r\n        var config = {\r\n          id: id,\r\n          role: \"Popup\",\r\n          allowCascade: true,\r\n          widgetType: \"AccDCPopup\",\r\n          autoCloseSameWidget: true,\r\n          forceFocus: true,\r\n          returnFocus: true,\r\n          exposeBounds: true,\r\n          isToggle: true,\r\n          exposeHiddenClose: true,\r\n          displayHiddenClose: true,\r\n          tabOut: function(ev, dc) {\r\n            if (!$A.isTouch() && dc.autoCloseOnTabOut) {\r\n              dc.close();\r\n            }\r\n            return true;\r\n          },\r\n          runAfter: function(dc) {\r\n            $A.setAttr(dc.triggerObj, {\r\n              \"aria-expanded\": \"true\",\r\n              \"aria-controls\": dc.outerNodeId\r\n            });\r\n          },\r\n          runBeforeClose: function(dc) {\r\n            $A.setAttr(dc.triggerObj, {\r\n              \"aria-expanded\": \"false\",\r\n              \"aria-controls\": \"\"\r\n            });\r\n          },\r\n          runBeforeDestroy: function(dc) {\r\n            $A.off(\"body\", \".AccDCPopup\");\r\n          },\r\n          keyDown: function(ev, dc) {\r\n            var k = ev.which || ev.keyCode;\r\n\r\n            // If Escape is pressed, close the popup\r\n            if (k === 27) {\r\n              dc.close();\r\n              ev.stopPropagation();\r\n              ev.preventDefault();\r\n            }\r\n          },\r\n          click: function(ev, dc) {},\r\n          onCreated: function(dc) {\r\n            if (dc.trigger) {\r\n              $A.setAttr(dc.trigger, \"aria-expanded\", \"false\");\r\n            }\r\n            id = dc.id;\r\n          }\r\n        };\r\n\r\n        $A.extend(config, overrides);\r\n\r\n        $A([config], overrides.overrides || {});\r\n\r\n        // Return the new popup AccDC Object ID\r\n        return id;\r\n      }\r\n    });\r\n}\r\n\r\nexport default loadAccPopupModule();\r\n"],"file":"Popup.Uncompressed.js"}