{"version":3,"sources":["../../../src/AccDC/Modules/Menu.Uncompressed.js"],"names":["$A","loadAccMenuModule","extend","setMenu","menuMap","context","overrides","disableAutoFocus","on","ev","current","top","loaded","dc","containsFocus","isFocusWithin","container","close","menuTriggers","hasPopup","o","indexOf","getAttr","isMenu","toLowerCase","isMenuItem","updateDisabled","nodes","loop","i","data","menuItems","AccDCObjects","menuNode","query","ariaOrientation","menuRole","push","config","mapMenuFrom","menuComponent","id","role","widgetType","autoCloseWidget","triggerObj","trigger","activatemenu","open","stopPropagation","preventDefault","click","handler","React","name","menuName","component","parent","ReactParent","isTab","isToggle","allowMultiple","exposeBounds","allowCascade","forceFocus","mouseLeave","isTouch","runBefore","root","append","runAfter","isSubMenu","setAttr","tabindex","runBeforeClose","children","z","cdc","runAfterClose","runBeforeDestroy","off","exposeHiddenClose","displayHiddenClose","tabOut","buildMenuFrom","length","siblings","parentDC","lastLoaded","lDC","activatemenuitem","apply","globalOnClick","keydown","k","which","keyCode","orientation","openMenu","triggerNode","RTI","childRTI","abortForArrows","pDC","RovingTabIndex","autoLoop","onOpen","wasTriggeredWithArrowKey","arguments","onClose","focusedNode","parentRTI","parentTriggeringElement","focus"],"mappings":"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","sourcesContent":["/*!\r\nAccessible Menu Module 3.0 - Minimum requirement: AccDC4X V. 4.2018.0\r\nCopyright 2010-2018 Bryan Garaventa (WhatSock.com)\r\nPart of AccDC, a Cross-Browser JavaScript accessibility API, distributed under the terms of the Open Source Initiative OSI - MIT License\r\n\t*/\r\n\r\nimport $A from \"../Core/API\";\r\n\r\nexport function loadAccMenuModule() {\r\n  if (!(\"setMenu\" in $A))\r\n    $A.extend({\r\n      setMenu: function(menuMap, context, overrides, disableAutoFocus) {\r\n        $A.on(\"body\", \"focusin.AccDCMenu\", function(ev) {\r\n          if ($A.setMenu.current && $A.setMenu.current.top.loaded) {\r\n            var dc = $A.setMenu.current.top;\r\n            var containsFocus = $A.isFocusWithin(dc.container);\r\n            if (!containsFocus) {\r\n              dc.close();\r\n            }\r\n          }\r\n        });\r\n\r\n        var menuTriggers = [],\r\n          hasPopup = function(o) {\r\n            return [\"true\", \"menu\"].indexOf($A.getAttr(o, \"aria-haspopup\")) !==\r\n              -1\r\n              ? true\r\n              : false;\r\n          },\r\n          isMenu = function(o) {\r\n            return [\"menu\", \"menubar\"].indexOf(\r\n              ($A.getAttr(o, \"role\") || \"\").toLowerCase()\r\n            ) !== -1\r\n              ? true\r\n              : false;\r\n          },\r\n          isMenuItem = function(o) {\r\n            return [\"menuitem\", \"menuitemcheckbox\", \"menuitemradio\"].indexOf(\r\n              ($A.getAttr(o, \"role\") || \"\").toLowerCase()\r\n            ) !== -1\r\n              ? true\r\n              : false;\r\n          },\r\n          updateDisabled = function(nodes) {\r\n            $A.loop(\r\n              nodes,\r\n              function(i, o) {\r\n                $A.data(\r\n                  o,\r\n                  \"disabled\",\r\n                  $A.getAttr(o, \"aria-disabled\") === \"true\"\r\n                );\r\n              },\r\n              \"array\"\r\n            );\r\n          },\r\n          menuItems = [],\r\n          AccDCObjects = [],\r\n          menuNode = isMenu(context)\r\n            ? context\r\n            : $A.query('*[role=\"menu\"], *[role=\"menubar\"]', context)[0],\r\n          ariaOrientation = $A.getAttr(menuNode, \"aria-orientation\"),\r\n          menuRole = $A.getAttr(menuNode, \"role\");\r\n\r\n        if (menuNode) {\r\n          $A.query('*[role^=\"menuitem\"]', menuNode, function(i, o) {\r\n            if (isMenuItem(o)) {\r\n              menuItems.push(o);\r\n            }\r\n          });\r\n        }\r\n\r\n        $A.loop(\r\n          menuMap,\r\n          function(o, config) {\r\n            var mapMenuFrom = function(context, AccDCObjects, menuComponent) {\r\n                if (menuComponent) {\r\n                  AccDCObjects.push({\r\n                    id: o.id,\r\n                    role: \"Menu\",\r\n                    widgetType: \"AccDCMenu\",\r\n                    autoCloseWidget: true,\r\n                    // root: 'body',\r\n                    // append: true,\r\n                    triggerObj: o,\r\n                    trigger: o,\r\n                    on: {\r\n                      activatemenu: function(ev, dc) {\r\n                        if (dc.loaded) dc.close();\r\n                        else dc.open();\r\n                        ev.stopPropagation();\r\n                        ev.preventDefault();\r\n                      },\r\n                      click: function(ev, dc) {\r\n                        $A.trigger(o, \"activatemenu\");\r\n                        ev.stopPropagation();\r\n                        ev.preventDefault();\r\n                      }\r\n                    },\r\n                    handler: config.handler,\r\n                    React: {\r\n                      name: config.menuName,\r\n                      component: menuComponent,\r\n                      parent: config.ReactParent\r\n                    },\r\n                    isTab: true,\r\n                    isToggle: true,\r\n                    allowMultiple: false,\r\n                    exposeBounds: false,\r\n                    allowCascade: true,\r\n                    forceFocus: false,\r\n                    click: function(ev, dc) {\r\n                      // ev.stopPropagation();\r\n                    },\r\n                    mouseLeave: function(ev, dc) {\r\n                      if (!$A.isTouch()) {\r\n                        dc.close();\r\n                      }\r\n                    },\r\n                    runBefore: function(dc) {\r\n                      if (dc !== dc.top) {\r\n                        dc.root = dc.append = null;\r\n                      }\r\n                    },\r\n                    //                runDuring: function(dc) {\r\n                    // Remains as an option if Forms/Applications mode is not properly being handled by mainstream screen readers.\r\n                    // $A.setAttr(dc.outerNode, \"role\", \"application\");\r\n                    //                },\r\n                    runAfter: function(dc) {\r\n                      dc.isSubMenu =\r\n                        hasPopup(dc.triggerObj) && isMenuItem(dc.triggerObj);\r\n\r\n                      if (dc.isSubMenu) {\r\n                        $A.setAttr(dc.triggerObj, {\r\n                          \"aria-expanded\": \"true\",\r\n                          tabindex: -1\r\n                        });\r\n                      }\r\n\r\n                      if (dc === dc.top) {\r\n                        $A.setMenu.current = dc;\r\n                      }\r\n                    },\r\n                    runBeforeClose: function(dc) {\r\n                      if (dc.isSubMenu)\r\n                        $A.setAttr(dc.triggerObj, {\r\n                          \"aria-expanded\": \"false\",\r\n                          tabindex: 0\r\n                        });\r\n                      $A.loop(\r\n                        dc.children,\r\n                        function(z, cdc) {\r\n                          cdc.close();\r\n                        },\r\n                        \"array\"\r\n                      );\r\n                    },\r\n                    runAfterClose: function(dc) {\r\n                      if (dc === dc.top) {\r\n                        $A.setMenu.current = null;\r\n                      }\r\n                    },\r\n                    runBeforeDestroy: function(dc) {\r\n                      $A.off(\"body\", \".AccDCMenu\");\r\n                    },\r\n                    exposeHiddenClose: true,\r\n                    displayHiddenClose: true,\r\n                    tabOut: function(ev, dc) {\r\n                      if (!$A.isTouch()) {\r\n                        dc.top.close();\r\n                        return true;\r\n                      }\r\n                    }\r\n                  });\r\n                }\r\n              },\r\n              buildMenuFrom = function(context) {\r\n                mapMenuFrom(context, AccDCObjects, config.menuComponent);\r\n              };\r\n\r\n            buildMenuFrom(context);\r\n\r\n            $A.data(o, \"isMenuTrigger\", true);\r\n            menuTriggers.push(o);\r\n          },\r\n          \"map\"\r\n        );\r\n\r\n        if (AccDCObjects.length) {\r\n          var siblings = $A(AccDCObjects, overrides);\r\n          var parentDC = $A.lastLoaded;\r\n          $A.loop(\r\n            siblings,\r\n            function(i, dc) {\r\n              if (isMenuItem(dc.triggerObj) && hasPopup(dc.triggerObj)) {\r\n                dc.top = (parentDC && parentDC.top) || dc.top;\r\n                dc.parent = parentDC || null;\r\n              }\r\n            },\r\n            \"array\"\r\n          );\r\n          if (parentDC) parentDC.children = siblings;\r\n        }\r\n\r\n        if (menuNode) {\r\n          if (menuItems.length) {\r\n            $A.loop(\r\n              menuItems,\r\n              function(i, o) {\r\n                $A.setAttr(o, {\r\n                  \"aria-posinset\": i + 1,\r\n                  \"aria-setsize\": menuItems.length\r\n                });\r\n\r\n                if (!$A.data(o, \"isMenuTrigger\")) {\r\n                  var lDC = $A.lastLoaded;\r\n                  $A.on(o, {\r\n                    activatemenuitem: function(ev) {\r\n                      if (lDC && lDC.widgetType === \"AccDCMenu\") {\r\n                        if (!$A.data(o, \"disabled\")) {\r\n                          if (typeof lDC.handler === \"function\")\r\n                            lDC.handler.apply(o, [ev, o, lDC]);\r\n                          if (typeof $A.setMenu.globalOnClick === \"function\")\r\n                            $A.setMenu.globalOnClick.apply(o, [ev, o, lDC]);\r\n                        }\r\n                        lDC.top.close();\r\n                      }\r\n                    },\r\n                    click: function(ev) {\r\n                      $A.trigger(o, \"activatemenuitem\");\r\n                      // ev.stopPropagation();\r\n                      ev.preventDefault();\r\n                    },\r\n                    keydown: function(ev) {\r\n                      var k = ev.which || ev.keyCode;\r\n                      if (k === 13) {\r\n                        $A.trigger(o, \"activatemenuitem\");\r\n                        ev.preventDefault();\r\n                      }\r\n                    }\r\n                  });\r\n                }\r\n              },\r\n              \"array\"\r\n            );\r\n\r\n            updateDisabled(menuItems);\r\n\r\n            var orientation = (function() {\r\n              if (ariaOrientation === \"horizontal\") return 1;\r\n              else if (ariaOrientation === \"vertical\") return 2;\r\n              else if (menuRole === \"menubar\") return 1;\r\n              else if (menuRole === \"menu\") return 2;\r\n            })();\r\n\r\n            var openMenu = function(\r\n              ev,\r\n              triggerNode,\r\n              RTI,\r\n              childRTI,\r\n              abortForArrows\r\n            ) {\r\n              $A.trigger(triggerNode, \"activatemenu\");\r\n              if (!abortForArrows && !$A.data(triggerNode, \"isMenuTrigger\")) {\r\n                var pDC = RTI.dc && RTI.dc.parent;\r\n                if (pDC && pDC.widgetType === \"AccDCMenu\") pDC.top.close();\r\n              }\r\n            };\r\n\r\n            var RTI = new $A.RovingTabIndex({\r\n              container: menuNode,\r\n              nodes: menuItems,\r\n              orientation: orientation,\r\n              autoLoop: true,\r\n              dc: $A.lastLoaded,\r\n              onOpen: function(\r\n                ev,\r\n                triggerNode,\r\n                RTI,\r\n                childRTI,\r\n                wasTriggeredWithArrowKey\r\n              ) {\r\n                openMenu.apply(this, arguments);\r\n              },\r\n              onClose: function(\r\n                ev,\r\n                focusedNode,\r\n                RTI,\r\n                parentRTI,\r\n                parentTriggeringElement,\r\n                wasTriggeredWithArrowKey\r\n              ) {\r\n                var pDC = RTI.dc && RTI.dc.parent;\r\n                if (\r\n                  wasTriggeredWithArrowKey &&\r\n                  pDC &&\r\n                  pDC.widgetType === \"AccDCMenu\"\r\n                ) {\r\n                  RTI.dc.close();\r\n                } else if (\r\n                  !wasTriggeredWithArrowKey &&\r\n                  (ev.which || ev.keyCode) === 27 &&\r\n                  RTI.dc\r\n                ) {\r\n                  RTI.dc.close();\r\n                }\r\n              }\r\n            });\r\n\r\n            if (!disableAutoFocus) RTI.focus();\r\n          }\r\n        }\r\n      }\r\n    });\r\n}\r\n\r\nexport default loadAccMenuModule();\r\n"],"file":"Menu.Uncompressed.js"}